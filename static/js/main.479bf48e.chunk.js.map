{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Dialog.module.css","components/Profile/Avatarinfo/Ava.module.css","components/Profile/MyPost/MyPost.module.css","components/Header/Header.module.css","components/Users/Paginator.module.css","components/Users/Users.module.css","components/Profile/MyPost/Post/Post.module.css","reportWebVitals.js","assets/loader.svg","components/Common/Preloader.jsx","HOC/withAuthRedirect.js","redux/dialog_reducer.js","components/Dialogs/DialogItem.jsx","components/Dialogs/Message.jsx","components/Dialogs/DialogContainer.jsx","components/Dialogs/Dialog.jsx","components/Header/Header.jsx","assets/headIcon.png","api/api.js","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Music/Music.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileStatus.jsx","components/Profile/ProfileStatusWithHooks.jsx","components/Profile/Avatarinfo/AvatarInfo.jsx","redux/profile_reducer.js","components/Profile/MyPost/Post/Post.jsx","components/Profile/MyPost/MyPost.jsx","components/Profile/MyPost/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Setting/Setting.jsx","redux/users_reducer.js","assets/user_avatar.png","components/Users/Paginator.jsx","components/Users/Users.jsx","redux/Users-selectors.js","components/Users/Users_container.jsx","redux/app-reducer.js","App.js","redux/redux-store.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Preloader","src","loader","mapStateToPropsForRedirect","state","isAuth","auth","CREATE_NEW_MESSAGE_TEXT","MESSAGE_ADD","initialState","dialogsData","id","name","messagesData","message","createNewMessagetext","dialogsReducer","action","type","stateCopy","newText","push","DialogItem","props","path","className","s","dialog","to","Message","authRedirect","Component","RedirectComponent","this","React","connect","withAuthRedirect","dialogsElements","map","messagesElements","m","dialogs","dialogsItems","messages","onChange","event","text","target","value","MessageText","placeholder","onClick","addMessage","DialogContainer","dialogPage","dispatch","Header","loginBlock","login","logout","instance","axios","withCredentials","baseURL","headers","authAPI","get","response","data","email","password","rememberMe","post","delete","usersAPI","currentPage","pageSize","profileAPI","userId","status","put","SET_USER_DATA","authReducer","setAuthUserData","Id","resultCode","HeaderContainer","initialValues","onSubmit","values","setSubmitting","isSubmitting","component","disabled","Music","Navbar","item","activeClassName","activeLink","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","e","currentTarget","AvatarInfo","profile","description","avatar","photos","large","fullName","aboutMe","contacts","facebook","website","vk","ADD_POST","CREATE_NEW_POST_TEXT","SET_USERS_PROFILE","SET_STATUS","posts","likesCount","newPostText","profileReducer","newPost","updateNewPostTextActionCreator","Post","MyPost","postsElements","p","newPostElement","createRef","content","h","current","updateNewPostText","ref","addPost","MyPostContainer","profilePage","Profile","ProfileContainer","match","params","UserId","getUsersProfile","getStatus","ContainerRouteProfile","withRouter","Setting","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","IS_FETCHING","TOGGLE_FOLLOW_PROGRESS","users","totalCount","isFetching","followingInProgress","usersReducer","u","userID","followed","filter","setTotalCount","setIsFetching","toggleFollowingInProgress","Paginator","pageCount","Math","ceil","pages","i","PortionNumber","setPortionNumber","PortionCount","leftBorderPortion","RightBorderportion","activePage","onPageChanged","Users","small","user_avatar","some","unfollow","follow","getUsersSuper","createSelector","usersPage","getPageSize","getCurrentPage","getTotalCount","getStatusIsFetching","getStatusFollInProgress","UsersAPIComponent","pageNumber","getUsers","setCurrentPage","UsersContainer","user","items","SET_INITIALIZED","initialized","appReducer","App","initialApp","render","Login","app","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById"],"mappings":"8FACAA,EAAOC,QAAU,CAAC,KAAO,qBAAqB,WAAa,6B,mBCA3DD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,aAAe,+B,mBCAnED,EAAOC,QAAU,CAAC,OAAS,oBAAoB,KAAO,kBAAkB,YAAc,2B,mBCAtFD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,QAAU,wBAAwB,EAAI,oB,mBCApFD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,mBCA/DD,EAAOC,QAAU,CAAC,WAAa,gC,mBCA/BD,EAAOC,QAAU,CAAC,OAAS,wB,6DCA3BD,EAAOC,QAAU,CAAC,KAAO,qB,iFCDzB,IAYeC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,sFCPC,G,MAAA,IAA0B,oC,OCOtBQ,EAJD,WACd,OAAO,8BAAK,qBAAKC,IAAKC,O,OCCtBC,EAA6B,SAACC,GAAD,MAAY,CAErCC,OAAQD,EAAME,KAAKD,S,QCPvBE,EAA0B,0BAC1BC,EAAc,cAGdC,EAAe,CACjBC,YAAa,CACT,CAAEC,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,UACf,CAAED,GAAI,EAAGC,KAAM,SAEnBC,aAAc,CACV,CAAEF,GAAI,EAAGG,QAAS,SAClB,CAAEH,GAAI,EAAGG,QAAS,gBAClB,CAAEH,GAAI,EAAGG,QAAS,OAEtBC,qBAAsB,KAsCTC,EAlCQ,WAAmC,IAAlCZ,EAAiC,uDAAzBK,EAAcQ,EAAW,uCAEvD,OAAOA,EAAOC,MAChB,KAAKX,EACH,IAAIY,EAAS,eAAOf,GAEpB,OADAe,EAAUJ,qBAAuBE,EAAOG,QACjCD,EAEP,KAAKX,EAEH,IAAIW,EAAS,2BAAOf,GAAP,IAAaW,qBAAqB,GAC7CF,aAAa,GAAD,mBAAKT,EAAMS,cAAX,CAAyB,CAACF,GAAI,EAAGG,QAASV,EAAMW,0BAM9D,OALAI,EAAUN,aAAV,YAA6BT,EAAMS,cAGnCM,EAAUN,aAAaQ,KAAK,CAACV,GAAI,EAAGG,QAASV,EAAMW,uBACnDI,EAAUJ,qBAAuB,GAC1BI,EAEP,QACA,OAAOf,I,iBC3BIkB,EAXI,SAACC,GAEhB,IAAIC,EAAO,YAAcD,EAAMZ,GAC/B,OACI,qBAAKc,UAAWC,IAAEC,OAAlB,SACI,cAAC,IAAD,CAASC,GAAIJ,EAAb,SAAoBD,EAAMX,UCAvBiB,EANC,SAACN,GACb,OACI,qBAAKE,UAAU,WAAf,SAA2BF,EAAMT,WCqCrCgB,EJ/B4B,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKV,MAAMlB,OAET,cAAC0B,EAAD,eAAeE,KAAKV,QAFI,cAAC,IAAD,CAAUK,GAAG,eAJT,GAEXM,IAAMH,WAY1C,OAFqCI,YAAQhC,EAARgC,CAAoCH,GImBtDI,ECrCJ,SAACb,GAEZ,IAAIc,EAAkBd,EAAMb,YAAYA,YAAY4B,KAAI,SAAAX,GAAM,OAAI,cAAC,EAAD,CAAYf,KAAMe,EAAOf,KAAMD,GAAIgB,EAAOhB,QAGxG4B,EAAmBhB,EAAMb,YAAYG,aAAayB,KAAI,SAAAE,GAAC,OAAI,cAAC,EAAD,CAAS1B,QAAS0B,EAAE1B,aAanF,OACI,sBAAKW,UAAWC,IAAEe,QAAlB,UACI,qBAAKhB,UAAWC,IAAEgB,aAAlB,SACKL,IAEL,sBAAKZ,UAAWC,IAAEiB,SAAlB,UACKJ,EACD,oCAAM,0BAAUK,SAdR,SAACC,GACjB,IAAIC,EAAOD,EAAME,OAAOC,MACxBzB,EAAM0B,YAAYH,IAaNE,MAAOzB,EAAMR,qBACbmC,YAAY,yBAChB,oCAAM,wBAAQC,QArBT,WACb5B,EAAM6B,cAoBQ,8BDePC,EAFSlB,aAlBF,SAAC/B,GACnB,MAAO,CACHM,YAAaN,EAAMkD,eAKF,SAACC,GACtB,MAAO,CACHH,WAAY,WAAOG,EH8BhB,CACLrC,KAAK,iBG9BH+B,YAAa,SAACJ,GAAWU,EHsBtB,CACLrC,KAAK,0BACLE,QGxBqEyB,QAQnDV,CAA6CL,G,iBE7BtD0B,EAZA,SAACjC,GACZ,OACA,yBAAQE,UAAWC,IAAE8B,OAArB,UACA,qBAAKvD,ICRM,20FDUX,qBAAKwB,UAAWC,IAAE+B,WAAlB,SACHlC,EAAMlB,OAAS,gCAAMkB,EAAMmC,MAAZ,MAAqB,wBAAQP,QAAS5B,EAAMoC,OAAvB,sBAArB,OACd,cAAC,IAAD,CAAS/B,GAAI,SAAb,2BEVIgC,E,MAAWC,OAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CAAE,UAAW,0CAGbC,EAAU,WAEf,OAAOL,EAASM,IAAT,WACFxE,MAAK,SAAAyE,GAAa,OAAOA,EAASC,SAHlCH,EAAU,SAKbI,EAAOC,EAAUC,GACnB,OAAOX,EAASY,KAAT,aAA2B,CAC9BH,QACAC,WACAC,gBATCN,EAAU,WAaf,OAAOL,EAASa,OAAT,eAIFC,EAAW,SAEXC,EAAaC,GAC1B,OAAOhB,EAASM,IAAT,qBAA2BS,EAA3B,iBAA+CC,IACtDlF,MAAK,SAAAyE,GACD,OAAOA,EAASC,SALPM,EAAW,SAQb/D,GAAK,OAAOiD,EAASY,KAAT,iBAAwB7D,IAAMjB,MAAM,SAAAyE,GAAa,OAAOA,EAASC,SAR3EM,EAAW,SASX/D,GAAK,OAAOiD,EAASa,OAAT,iBAA0B9D,IAAMjB,MAAM,SAAAyE,GAAa,OAAOA,EAASC,SAG/ES,EAAa,SAEXC,GAEP,OAAOlB,EAASM,IAAT,kBAAwBY,IAC/BpF,MAAK,SAAAyE,GAAc,OAAOA,EAASC,SAL9BS,EAAa,SAOhBC,GACN,OAAOlB,EAASM,IAAT,yBAA+BY,KAR7BD,EAAa,SAUbE,GACb,OAAOnB,EAASoB,IAAT,iBAA+B,CAACD,OAAQA,KC/CzCE,EAAgB,gBAElBxE,EAAe,CACjBE,GAAI,KACJ0D,MAAO,KACPX,MAAO,KACPrD,QAAQ,EACRiE,SAAU,KACVC,YAAY,GAiBCW,EAdK,WAAmC,IAAlC9E,EAAiC,uDAAzBK,EAAcQ,EAAW,uCAEpD,OAAQA,EAAOC,MACb,KAAK+D,EACH,OAAO,2BACF7E,GACAa,EAAOmD,MAGd,QACE,OAAOhE,IAMA+E,EAAkB,SAACC,EAAIf,EAAOX,EAAOrD,GAChD,MAAO,CACLa,KAAM+D,EACNb,KAAM,CAAEgB,KAAIf,QAAOX,QAAOrD,YAsBjBC,EAAO,kBAAM,SAACiD,GAEzB,OAAOU,IAAkBvE,MAAK,SAAA0E,GAC5B,MAA2BA,EAAKA,KAA1BzD,EAAN,EAAMA,GAAI0D,EAAV,EAAUA,MAAOX,EAAjB,EAAiBA,MACO,IAApBU,EAAKiB,YAAmB9B,EAAS4B,EAAgBxE,EAAI0D,EAAOX,GAAO,SCnDrE4B,E,uKACJ,c,oBAEA,WAAU,OAAQ,cAAC,EAAD,eAAYrD,KAAKV,Y,GAHPW,IAAMH,WAcrBI,eARO,SAAC/B,GAAD,MAAY,CAEhCC,OAAQD,EAAME,KAAKD,OACnBqD,MAAOtD,EAAME,KAAKoD,SAKoB,CAACC,ODwBnB,kBAAM,SAACJ,GAC3BU,IAAiBvE,MAAK,SAAAyE,GACa,IAA7BA,EAASC,KAAKiB,YAChB9B,EAAS4B,EAAgB,KAAK,KAAK,MAAK,UC3B/BhD,CAAmCmD,G,QCiCnCnD,cAAQ,KAAM,CAACuB,MFlBT,SAACW,EAAOC,EAAUC,GAAlB,OAAiC,SAAChB,GACrDU,EAAcI,EAAOC,EAAUC,GAAY7E,MAAK,SAAAyE,GACb,IAA7BA,EAASC,KAAKiB,YAChB9B,EAASjD,WEeA6B,EAhDG,SAACZ,GAEf,OACI,gCACI,uCACJ,cAAC,IAAD,CACDgE,cAAe,CAAElB,MAAO,GAAIC,SAAU,GAAIC,YAAY,GAYtDiB,SAAU,SAACC,EAAD,GAAgC,IAArBC,EAAoB,EAApBA,cAIjBnE,EAAMmC,MAAM+B,EAAOpB,MAAOoB,EAAOnB,SAAUmB,EAAOlB,YAEpDmB,GAAc,IAnBf,SAuBA,gBAAGC,EAAH,EAAGA,aAAH,OACC,eAAC,IAAD,WACI,gCAAK,cAAC,IAAD,CAAOzE,KAAK,OAAON,KAAK,QAAQsC,YAAY,oBACnD,cAAC,IAAD,CAActC,KAAK,QAAQgF,UAAU,WACrC,gCAAK,cAAC,IAAD,CAAO1E,KAAK,WAAWN,KAAK,aACjC,cAAC,IAAD,CAAcA,KAAK,WAAWgF,UAAU,WACxC,gCAAK,cAAC,IAAD,CAAO1E,KAAK,WAAWN,KAAK,eAAjC,iBACA,8BAAK,wBAAQM,KAAK,SAAS2E,SAAUF,EAAhC,kCC5BDG,G,MATD,SAACvE,GAEX,OACI,gD,oBCUOwE,GAZA,WACb,OACE,sBAAKtE,UAAU,MAAf,UACE,qBAAKA,UAAWC,KAAEsE,KAAlB,SAAwB,cAAC,IAAD,CAASpE,GAAG,WAAWqE,gBAAiBvE,KAAEwE,WAA1C,uBACxB,qBAAKzE,UAAWC,KAAEsE,KAAlB,SAAwB,cAAC,IAAD,CAASpE,GAAG,WAAWqE,gBAAiBvE,KAAEwE,WAA1C,wBACxB,qBAAKzE,UAAWC,KAAEsE,KAAlB,SAAwB,cAAC,IAAD,CAASpE,GAAG,SAASqE,gBAAiBvE,KAAEwE,WAAxC,qBACxB,qBAAKzE,UAAWC,KAAEsE,KAAlB,SAAwB,cAAC,IAAD,CAASpE,GAAG,SAASqE,gBAAiBvE,KAAEwE,WAAxC,qBACxB,qBAAKzE,UAAWC,KAAEsE,KAAlB,SAAwB,cAAC,IAAD,CAASpE,GAAG,UAAUqE,gBAAiBvE,KAAEwE,WAAzC,2B,wBCRFhE,IAAMH,U,OCsCnBoE,GArCgB,SAAC5E,GAE/B,MAA8B6E,oBAAS,GAAvC,oBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAAS7E,EAAMwD,QAAzC,oBAAKA,EAAL,KAAawB,EAAb,KAEDC,qBAAU,WACVD,EAAUhF,EAAMwD,UACb,CAACxD,EAAMwD,SAcN,OACI,iCACMsB,GACE,8BACI,sBAAMI,cAfD,WAAOH,GAAY,IAexB,SAAwC/E,EAAMwD,QAAU,uBAI/DsB,GACG,gCAAK,uBAAOK,WAAW,EAAMC,OAlBlB,WACvBL,GAAY,GACZ/E,EAAMqF,aAAa7B,IAgBkDnC,SAblD,SAACiE,GACpBN,EAAUM,EAAEC,cAAc9D,QAYqEA,MAAO+B,IAA1F,WCFDgC,GA1BI,SAACxF,GACpB,OAAKA,EAAMyF,QAMP,sBAAKvF,UAAWC,KAAEuF,YAAlB,UAEE,qBAAKxF,UAAWC,KAAEwF,OAAlB,SACC,qBAAKjH,IAAKsB,EAAMyF,QAAQG,OAAOC,UAE9B,cAAC,GAAD,CAAwBrC,OAAQxD,EAAMwD,OAAQ6B,aAAcrF,EAAMqF,eACpE,sBAAKnF,UAAWC,KAAEsE,KAAlB,UACC,0CAAazE,EAAMyF,QAAQK,YAC3B,4CAAe9F,EAAMyF,QAAQM,WAC7B,6CACE,6CAAgB/F,EAAMyF,QAAQO,SAASC,YACvC,4CAAejG,EAAMyF,QAAQO,SAASE,WACtC,uCAAUlG,EAAMyF,QAAQO,SAASG,eAjBhC,cAAC,EAAD,KCPNC,GAAW,WACXC,GAAuB,uBACvBC,GAAoB,oBACpBC,GAAa,aAGbrH,GAAe,CACjBsH,MAAO,CACL,CAAEpH,GAAI,EAAGG,QAAS,0BAA2BkH,WAAY,IACzD,CAAErH,GAAI,EAAGG,QAAS,KAAMkH,WAAY,IAEtCC,YAAa,QACbjB,QAAS,KACTjC,OAAO,UAqCMmD,GAlCQ,WAAmC,IAAlC9H,EAAiC,uDAAzBK,GAAcQ,EAAW,uCAEvD,OAAQA,EAAOC,MACb,KAAKyG,GACH,IAAIQ,EAAU,CACZxH,GAAI,EACJG,QAASV,EAAM6H,YACfD,WAAY,GAEV7G,EAAS,eAAOf,GAIpB,OAHAe,EAAU4G,MAAV,YAAsB3H,EAAM2H,OAC5B5G,EAAU4G,MAAM1G,KAAK8G,GACrBhH,EAAU8G,YAAc,GACjB9G,EAGT,KAAKyG,GACH,IAAIzG,EAAS,eAAOf,GAEpB,OADAe,EAAU8G,YAAchH,EAAOG,QACxBD,EAGT,KAAK0G,GACT,OAAO,2BAAIzH,GAAX,IAAkB4G,QAAS/F,EAAO+F,UAE9B,KAAKc,GACH,OAAO,2BAAI1H,GAAX,IAAkB2E,OAAQ9D,EAAO8D,SAGnC,QACE,OAAO3E,IAYAgI,GAAiC,SAACtF,GAC7C,MAAO,CACL5B,KAAM,uBACNE,QAAS0B,IAWAyD,GAAY,SAACxB,GACxB,MAAO,CACL7D,KAAM4G,GACN/C,W,oBChEWsD,I,MATF,SAAC9G,GAEZ,OACE,gCACE,8BAAMA,EAAMT,UACZ,gCAAMS,EAAMyG,WAAZ,iBCuBSM,GAzBA,SAAC/G,GAEhB,IAAIgH,EAAgBhH,EAAMwG,MAAMzF,KAAI,SAAAkG,GAAC,OAAI,cAAC,GAAD,CAAM1H,QAAS0H,EAAE1H,QAASkH,WAAYQ,EAAER,gBAG7ES,EAAiBvG,IAAMwG,YAWzB,OACE,sBAAKjH,UAAWC,KAAEiH,QAAlB,UACE,qBAAKlH,UAAWC,KAAEkH,EAAlB,sBACA,oCAAM,0BAAUhG,SARH,WACjB,IAAIE,EAAO2F,EAAeI,QAAQ7F,MAClCzB,EAAMuH,kBAAkBhG,IAMoBrB,UAAWC,KAAEsE,KAAM+C,IAAKN,EAAgBzF,MAAOzB,EAAM0G,iBAC7F,oCAAM,wBAAQ9E,QAbN,WACZ5B,EAAMyH,WAYI,4BACN,8BAAMT,QCqBGU,GAFS9G,aAjBF,SAAC/B,GACrB,MAAO,CACT2H,MAAO3H,EAAM8I,YAAYnB,MACzBE,YAAa7H,EAAM8I,YAAYjB,gBAIP,SAAC1E,GACvB,MAAO,CACLuF,kBAAmB,SAAChG,GAAUS,EAAS6E,GAA+BtF,KACtEkG,QAAS,WACPzF,EHcG,CACLrC,KAAM,aGdJqC,EAAS6E,GAA+B,SAKtBjG,CAA6CmG,IC7BtDa,I,MATC,SAAC5H,GAEf,OACE,gCACE,cAAC,GAAD,CAAYyF,QAASzF,EAAMyF,QAASjC,OAAQxD,EAAMwD,OAAQ6B,aAAcrF,EAAMqF,eAC9E,cAAC,GAAD,SCPAwC,G,uKACN,WACE,IAAItE,EAAS7C,KAAKV,MAAM8H,MAAMC,OAAOC,OAChCzE,IACHA,EAAS,OAEV7C,KAAKV,MAAMiI,gBAAgB1E,GAC3B7C,KAAKV,MAAMkI,UAAU3E,K,oBAGtB,WACE,OACE,8BACE,cAAC,GAAD,2BAAa7C,KAAKV,OAAlB,IAAyByF,QAAS/E,KAAKV,MAAMyF,QAASjC,OAAQ9C,KAAKV,MAAMwD,OACzE6B,aAAc3E,KAAKV,MAAMqF,sB,GAdF1E,IAAMH,WAwBjC2H,GAAwBC,YAAWP,IAExBjH,gBAPO,SAAC/B,GAAD,MAAY,CAClC4G,QAAS5G,EAAM8I,YAAYlC,QAC3BjC,OAAQ3E,EAAM8I,YAAYnE,UAKc,CAACyE,gBL+DV,SAAC1E,GAAD,OAAY,SAACvB,GAC1CsB,EAAsBC,GAAQpF,MAAK,SAAA0E,GAEjCb,EA/BK,CACLrC,KAAM2G,GACNb,QA6ByB5C,SKlE6BqF,ULgDjC,SAAC3E,GAAD,OAAY,SAACvB,GACpCsB,EAAqBC,GAAQpF,MAAK,SAAAyE,GAChCZ,EAASgD,GAAUpC,EAASC,YKlDqCwC,aLsDzC,SAAC7B,GAAD,OAAY,SAACxB,GACvCsB,EAAwBE,GAAQrF,MAAK,SAAAyE,GACF,IAA7BA,EAASC,KAAKiB,YAClB9B,EAASgD,GAAUxB,UKzDR5C,CAAqEuH,ICrBrEE,I,MARC,SAACrI,GACb,OACI,wCCJJsI,GAAS,SACTC,GAAW,WACXC,GAAY,YACZC,GAAmB,mBACnBC,GAAkB,kBAClBC,GAAc,cACdC,GAAyB,yBAEzB1J,GAAe,CACjB2J,MACE,GACAxF,SAAU,GACVD,YAAa,EACb0F,WAAY,EACZC,YAAY,EACZC,oBAAqB,CAAC,IAiDXC,GA9CM,WAAmC,IAAlCpK,EAAiC,uDAAzBK,GAAcQ,EAAW,uCAErD,OAAQA,EAAOC,MACb,KAAK2I,GACH,OAAO,2BACFzJ,GADL,IAGEgK,MAAOhK,EAAMgK,MAAM9H,KAAI,SAAAmI,GACrB,OAAIA,EAAE9J,KAAOM,EAAOyJ,OACX,2BAAKD,GAAZ,IAAeE,UAAU,IAEpBF,OAGb,KAAKX,GACH,OAAO,2BACF1J,GADL,IAEEgK,MAAOhK,EAAMgK,MAAM9H,KAAI,SAAAmI,GACrB,OAAIA,EAAE9J,KAAOM,EAAOyJ,OACX,2BAAKD,GAAZ,IAAeE,UAAU,IAEpBF,OAGb,KAAKV,GACH,OAAO,2BAAK3J,GAAZ,IAAmBgK,MAAOnJ,EAAOmJ,QACjC,KAAKJ,GACH,OAAO,2BACF5J,GADL,IACYuE,YAAa1D,EAAO0D,cAEhC,KAAKsF,GACH,OAAO,2BACF7J,GADL,IACYiK,WAAYpJ,EAAOoJ,aAE/B,KAAKH,GACH,OAAO,2BAAI9J,GAAX,IAAkBkK,WAAWrJ,EAAOqJ,aACtC,KAAKH,GACL,OAAO,2BAAI/J,GAAX,IACEmK,oBAAqBtJ,EAAOqJ,WAAP,sBACjBlK,EAAMmK,qBADW,CACUtJ,EAAOyJ,SACpC,CAACtK,EAAMmK,oBAAoBK,QAAO,SAAAjK,GAAE,OAAIA,GAAMM,EAAOyJ,aAC/D,QACE,OAAOtK,IA+BAyK,GAAgB,SAACR,GAC5B,MAAO,CACLnJ,KAAM+I,GACNI,eAGSS,GAAgB,SAACR,GAC5B,MAAO,CACLpJ,KAAMgJ,GACNI,eAGSS,GAA4B,SAACR,EAAqBG,GAC7D,MAAO,CACLxJ,KAAMiJ,GACNI,sBACAG,WC5GW,OAA0B,wC,wCC+B1BM,GA5BC,SAACzJ,GAIb,IAFA,IAAI0J,EAAYC,KAAKC,KAAK5J,EAAM8I,WAAa9I,EAAMqD,UAC/CwG,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,IAAaI,EAAKD,EAAM/J,KAAKgK,GAElD,MAAwCjF,mBAAS,GAAjD,oBAAKkF,EAAL,KAAoBC,EAApB,KAEIC,EAAeN,KAAKC,KAAKF,EADX,IAGdQ,EAHc,IAGOH,EAAgB,GAAmB,EACxDI,EAJc,GAIOJ,EAEzB,OAAO,sBAAK7J,UAAWC,KAAEsJ,UAAlB,UACFM,EAAgB,GAAK,wBAAQnI,QAAS,WAAQoI,EAAiBD,EAAgB,IAA1D,kBACtB,8BACKF,EAAMR,QAAO,SAAApC,GAAC,OAAMA,GAAGkD,GAAsBlD,EAAEiD,KAC3CnJ,KAAI,SAACkG,GACF,OAAO,uBAAM/G,UAAWF,EAAMoD,cAAgB6D,GAAK9G,KAAEiK,WACjDxI,QAAS,SAACN,GAAYtB,EAAMqK,cAAcpD,IADvC,UAC+CA,EAD/C,YAMlBgD,EAAeF,GAAiB,wBAAQnI,QAAS,WAAQoI,EAAiBD,EAAgB,IAA1D,sBC4B1BO,GAhDH,SAACtK,GAGT,OAAO,gCACX,cAAC,GAAD,CAAW8I,WAAY9I,EAAM8I,WAAYzF,SAAUrD,EAAMqD,SACzDgH,cAAerK,EAAMqK,cAAejH,YAAapD,EAAMoD,cAI3CpD,EAAM6I,MAAM9H,KAAI,SAAAmI,GAAC,OACb,gCACI,iCACK,8BACG,cAAC,IAAD,CAAS7I,GAAI,YAAc6I,EAAE9J,GAA7B,SACI,qBAAKV,IAAuB,MAAlBwK,EAAEtD,OAAO2E,MAAgBrB,EAAEtD,OAAO2E,MAAQC,GAAatK,UAAWC,KAAEwF,aAGtF,8BACKuD,EAAEE,SAAW,wBAAQ9E,SAAUtE,EAAMgJ,oBAAoByB,MAAK,SAAArL,GAAE,OAAIA,IAAO8J,EAAE9J,MAC1EwC,QAAS,WACL5B,EAAM0K,SAASxB,EAAE9J,KAFX,sBAMR,wBAAQkF,SAAUtE,EAAMgJ,oBAAoByB,MAAK,SAAArL,GAAE,OAAIA,IAAO8J,EAAE9J,MAC9DwC,QAAS,WAEL5B,EAAM2K,OAAOzB,EAAE9J,KAHrB,yBAQd,iCACI,8BAAM8J,EAAE7J,OACR,8BAAM6J,EAAE1F,cAxBN0F,EAAE9J,W,SCXfwL,GAAgBC,cAJN,SAAChM,GACpB,OAAOA,EAAMiM,UAAUjC,SAG4B,SAACA,GACpD,OAAOA,EAAMQ,QAAO,SAAAH,GAAC,OAAI,QAIhB6B,GAAa,SAAClM,GACvB,OAAOA,EAAMiM,UAAUzH,UAGd2H,GAAgB,SAACnM,GAC1B,OAAOA,EAAMiM,UAAU1H,aAGd6H,GAAe,SAACpM,GACzB,OAAOA,EAAMiM,UAAUhC,YAGdoC,GAAqB,SAACrM,GAC/B,OAAOA,EAAMiM,UAAU/B,YAGdoC,GAAyB,SAACtM,GACnC,OAAOA,EAAMiM,UAAU9B,qBCpBrBoC,G,4MAeFf,cAAgB,SAACgB,GACb,EAAKrL,MAAMsL,SAASD,EAAY,EAAKrL,MAAMqD,UAC3C,EAAKrD,MAAMuL,eAAeF,I,uDAf9B,WAEI3K,KAAKV,MAAMsL,SAAS5K,KAAKV,MAAMoD,YAAa1C,KAAKV,MAAMqD,Y,oBAwBvD,WAEI,OAAO,qCACN3C,KAAKV,MAAM+I,WAAa,cAAC,EAAD,IAAc,KACvC,cAAC,GAAD,CAAOD,WAAYpI,KAAKV,MAAM8I,WAAYzF,SAAU3C,KAAKV,MAAMqD,SAC/DD,YAAa1C,KAAKV,MAAMoD,YAAasH,SAAUhK,KAAKV,MAAM0K,SAAUC,OAAQjK,KAAKV,MAAM2K,OACvFN,cAAe3J,KAAK2J,cAAexB,MAAOnI,KAAKV,MAAM6I,MACrDG,oBAAqBtI,KAAKV,MAAMgJ,6B,GAnCZrI,IAAMH,WAsEvBgL,GAHS5K,aAbF,SAAC/B,GAEnB,MAAO,CACHgK,MAAO+B,GAAc/L,GACrBwE,SAAU0H,GAAYlM,GACtBuE,YAAa4H,GAAenM,GAC5BiK,WAAYmC,GAAcpM,GAC1BkK,WAAYmC,GAAoBrM,GAChCmK,oBAAqBmC,GAAwBtM,MAKJ,CAAC8L,OLsD5B,SAACvL,GACrB,OAAO,SAAC4C,GAENA,EAASwH,IAA0B,EAAMpK,IACzC+D,EAAgB/D,GAAIjB,MAAK,SAAAyE,GACW,GAA5BA,EAASC,KAAKiB,YACd9B,EAnEH,CACLrC,KAAM2I,GACNa,OAiE8B/J,OAG9B4C,EAASwH,IAA0B,EAAOpK,MK/DYsL,SLmElC,SAACtL,GACvB,OAAO,SAAC4C,GAENA,EAASwH,IAA0B,EAAMpK,IACzC+D,EAAkB/D,GAAIjB,MAAK,SAAAyE,GACS,GAA5BA,EAASC,KAAKiB,YACd9B,EA1EH,CACLrC,KAAM4I,GACNY,OAwEgC/J,OAGhC4C,EAASwH,IAA0B,EAAOpK,MK5EsBmM,eLWtC,SAACnI,GAC7B,MAAO,CACLzD,KAAM8I,GACNrF,YAAaA,IKbbkG,iBAAegC,SLqCiB,SAAClI,EAAaC,GAChD,OAAO,SAACrB,GAERA,EAASuH,IAAc,IAEbpG,EAAkBC,EAAaC,GAC3BlF,MAAK,SAAA0E,GAxCG,IAAC4I,EA0CLzJ,EAASuH,IAAc,IAEvBvH,GA5CKyJ,EA4Ca5I,EAAK6I,MA3ClC,CACL/L,KAAM6I,GACNK,MAAO4C,KA0CSzJ,EAASsH,GAAczG,EAAKiG,kBKhDGU,8BAD3B5I,CAErBwK,IC3EGO,GAAkB,kBAEpBzM,GAAe,CACjB0M,aAAa,GA8BAC,GA3BI,WAAmC,IAAlChN,EAAiC,uDAAzBK,GAAcQ,EAAW,uCAEnD,OAAQA,EAAOC,MACb,KAAKgM,GAEH,OAAO,2BACF9M,GADL,IAEE+M,aAAY,IAGhB,QACE,OAAO/M,ICDPiN,G,uKAEN,WACEpL,KAAKV,MAAM+L,e,oBAGX,WACE,OAAKrL,KAAKV,MAAM4L,YAEhB,cAAC,IAAD,UACE,sBAAK1L,UAAU,cAAf,UACE,qBAAKA,UAAU,SAAf,SAAwB,cAAC,EAAD,MACxB,qBAAKA,UAAU,MAAf,SAAqB,cAAC,GAAD,MACrB,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CAAOD,KAAK,oBAAoB+L,OAAQ,kBAAM,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAO/L,KAAK,WAAW+L,OAAQ,kBAAM,cAAC,EAAD,OACrC,cAAC,IAAD,CAAO/L,KAAK,SAAS+L,OAAS,kBAAK,cAAC,GAAD,OACnC,cAAC,IAAD,CAAO/L,KAAK,SAASoE,UAAWE,IAChC,cAAC,IAAD,CAAOtE,KAAK,WAAWoE,UAAWgE,KAClC,cAAC,IAAD,CAAOpI,KAAK,SAAS+L,OAAS,kBAAK,cAACC,EAAD,eAZJ,cAAC,EAAD,Q,GAPvBtL,IAAMH,WAgCTI,gBAJS,SAAC/B,GAAD,MAAY,CAClC+M,YAAa/M,EAAMqN,IAAIN,eAGe,CAACG,WDpBf,kBAAM,SAAC/J,GACnBA,EAASjD,KACfZ,MAAK,WAAO6D,EANX,CAACrC,KAAMgM,WCwBD/K,CAAuCkL,I,kBCzClDK,GAAWC,aAAgB,CAC3BzE,YAAchB,GACd5E,WAAYtC,EACZqL,UAAW7B,GACXlK,KAAM4E,EACNuI,IAAKL,KAMMQ,GAFHC,aAAYH,GAAUI,aAAgBC,OCTlDC,IAAST,OACP,cAAC,IAAMU,WAAP,UACE,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJM,SAASC,eAAe,SAS1B5O,M","file":"static/js/main.479bf48e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__17chj\",\"activeLink\":\"Navbar_activeLink__1nxUt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialog_dialogs__EBIsh\",\"dialogsItems\":\"Dialog_dialogsItems__x4Lpg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Ava_avatar__31kYH\",\"item\":\"Ava_item__x0iiX\",\"description\":\"Ava_description__3C6nW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPost_item__qJigH\",\"content\":\"MyPost_content__3P65b\",\"h\":\"MyPost_h__2JxiY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__2PaMV\",\"loginBlock\":\"Header_loginBlock__2UB2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Paginator_activePage__Ym109\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__3g3hZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__IBu2k\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/loader.14d0199a.svg\";","import React from 'react';\r\nimport loader from '../../assets/loader.svg';\r\n\r\nconst Preloader = () => {\r\n    return <div><img src={loader}/></div>\r\n    }\r\n\r\n    export default Preloader;","import { Redirect } from \"react-router-dom\";\r\nimport React from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    \r\n        isAuth: state.auth.isAuth\r\n    \r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n \r\n\r\n\r\nlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\nreturn ConnectedAuthRedirectComponent; \r\n}","let CREATE_NEW_MESSAGE_TEXT = 'CREATE-NEW-MESSAGE-TEXT';\r\nlet MESSAGE_ADD = 'MESSAGE-ADD';\r\n\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n      { id: 1, name: 'Andrew' },\r\n      { id: 2, name: 'Sveta' },\r\n      { id: 3, name: 'Julia' },\r\n      { id: 4, name: 'Pasha' },\r\n      { id: 5, name: 'Polina' },\r\n      { id: 6, name: 'Seva' },\r\n  ],\r\n  messagesData: [\r\n      { id: 1, message: 'hello' },\r\n      { id: 2, message: 'how are you?' },\r\n      { id: 3, message: 'hi' },\r\n  ],\r\n  createNewMessagetext: 'm'\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\ncase CREATE_NEW_MESSAGE_TEXT: {\r\n  let stateCopy = {...state};\r\n  stateCopy.createNewMessagetext = action.newText;\r\n  return stateCopy;\r\n}\r\n  case MESSAGE_ADD: {\r\n    // let body = stateCopy.createNewMessagetext  ;\r\n    let stateCopy = {...state,createNewMessagetext:'',\r\n      messagesData:[...state.messagesData, {id: 6, message: state.createNewMessagetext}]};\r\n    stateCopy.messagesData = [...state.messagesData];\r\n    \r\n    \r\n    stateCopy.messagesData.push({id: 6, message: state.createNewMessagetext});\r\n    stateCopy.createNewMessagetext = '';\r\n    return stateCopy;\r\n  }\r\n    default: \r\n    return state;\r\n}\r\n  \r\n\r\n    // if (action.type === 'CREATE-NEW-MESSAGE-TEXT') {\r\n    //     state.createNewMessagetext = action.newText;\r\n    // } else if (action.type === 'MESSAGE-ADD') {\r\n    //     let body = state.createNewMessagetext;\r\n    //     state.createNewMessagetext = \" \";\r\n    //     state.messagesData.push({ id: 6, message: body });\r\n    // }\r\n    // return state;\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\nexport const updateNewMessagTextActionCreator = (text) => {\r\n    return {\r\n      type:'CREATE-NEW-MESSAGE-TEXT',\r\n      newText: text\r\n    }\r\n  }\r\n\r\nexport const addMessageActionCreator = () => {\r\n    return {\r\n      type:'MESSAGE-ADD'\r\n    }\r\n  }","import React from 'react'\r\nimport s from './Dialog.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    let path = '/message/' + props.id;\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className='s.dialog'>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { addMessageActionCreator, updateNewMessagTextActionCreator } from '../../redux/dialog_reducer'\r\nimport Dialog from './Dialog';\r\n\r\n\r\n// const DialogContainer = (props) => {\r\n//     debugger    \r\n//     let state = props.state.getState();\r\n\r\n//     let addMessage = () => {\r\n//         props.dispatch(addMessageActionCreator())\r\n//     }\r\n\r\n//     let MessageText = (event) => {\r\n\r\n        \r\n//         props.dispatch(updateNewMessagTextActionCreator(event));\r\n//     }\r\n//     return (\r\n//         <Dialog MessageText={MessageText} addMessage={addMessage}\r\n//          dialogsData={state.dialogPage.dialogsData}\r\n//          messagesData={state.dialogPage.messagesData}/>\r\n//     )\r\n\r\n// };\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogPage\r\n        \r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: () => {dispatch(addMessageActionCreator())},\r\n        MessageText: (event) => {dispatch(updateNewMessagTextActionCreator(event))}\r\n    }\r\n}\r\n\r\nlet authRedirect = withAuthRedirect(Dialog)\r\n\r\n\r\n\r\nconst DialogContainer = connect(mapStateToProps, mapDispatchToProps)(authRedirect);\r\n\r\nexport default DialogContainer;","import React from 'react';\r\nimport s from './Dialog.module.css';\r\nimport DialogItem from './DialogItem';\r\nimport Message from './Message';\r\n\r\nconst Dialog = (props) => {\r\n\r\n    let dialogsElements = props.dialogsData.dialogsData.map(dialog => <DialogItem name={dialog.name} id={dialog.id} />);\r\n\r\n    // Create a dialog based on array of data\r\n    let messagesElements = props.dialogsData.messagesData.map(m => <Message message={m.message} />);\r\n\r\n    let addMessage = () => {\r\n        props.addMessage();\r\n    }\r\n\r\n    let onMessageText = (event) => {\r\n        let text = event.target.value;\r\n        props.MessageText(text);\r\n\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <div> <textarea onChange={onMessageText}\r\n                    value={props.createNewMessagetext}\r\n                    placeholder='Enter you message'></textarea></div>\r\n                <div> <button onClick={addMessage}>Send</button></div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport headIcon from '../../assets/headIcon.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n    <header className={s.Header}>\r\n    <img src={headIcon}></img>\r\n\r\n    <div className={s.loginBlock}>\r\n{props.isAuth ? <div>{props.login} - <button onClick={props.logout}> logout </button> </div>  \r\n: <NavLink to={'/login'}> login </NavLink>}\r\n    </div>\r\n  </header>)\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,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\"","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": 'df505b79-2df6-439f-87d2-7a2e3eb90c41' }\r\n})\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {return response.data})\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`,{\r\n            email,\r\n            password,\r\n            rememberMe\r\n        })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage, pageSize) {\r\nreturn instance.get(`users?page=${currentPage}&count${pageSize}`).\r\nthen(response => {\r\n    return response.data;\r\n})\r\n    },\r\n    follow(id) {return instance.post(`follow/${id}`).then( response => {return response.data})},\r\n    unfollow(id) {return instance.delete(`follow/${id}`).then( response => {return response.data})}\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n        \r\n        return instance.get(`profile/${userId}`).\r\n        then(response => { return response.data})\r\n}, \r\ngetStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n},\r\nupdateStatus(status) {\r\nreturn instance.put(`profile/status`, {status: status})\r\n}\r\n \r\n}\r\n    \r\n\r\n\r\n","import { authAPI } from '../api/api';\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  password: null,\r\n  rememberMe: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (Id, email, login, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    data: { Id, email, login, isAuth }\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n  authAPI.login(email, password, rememberMe).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(auth())\r\n    }\r\n\r\n  })\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  authAPI.logout().then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null,null,null,false))\r\n    }\r\n\r\n  })\r\n}\r\n\r\nexport const auth = () => (dispatch) => {\r\n\r\n  return authAPI.getAuth().then(data => {\r\n    let { id, email, login } = data.data;\r\n    if (data.resultCode === 0) {dispatch(setAuthUserData(id, email, login, true));}\r\n    \r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  componentDidMount() {}\r\n\r\n  render() {return (<Header {...this.props} />)}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  \r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import { Field, Form, Formik, ErrorMessage } from 'formik';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <h2>login</h2>\r\n        <Formik\r\n       initialValues={{ email: '', password: '', rememberMe: false}}\r\n    //    validate={values => {\r\n    //      const errors = {};\r\n    //      if (!values.email) {\r\n    //        errors.email = 'Required';\r\n    //      } else if (\r\n    //        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n    //      ) {\r\n    //        errors.email = 'Invalid email address';\r\n    //      }\r\n    //      return errors;\r\n    //    }}\r\n       onSubmit={(values, { setSubmitting }) => {\r\n         \r\n         //let logObj = JSON.stringify(values, null, 2)\r\n         //alert(values.email)\r\n           props.login(values.email, values.password, values.rememberMe);\r\n           \r\n         setSubmitting(false)\r\n         \r\n       }}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n             <div><Field type=\"text\" name=\"email\" placeholder='Enter you login'/>\r\n           <ErrorMessage name=\"email\" component=\"div\" /></div>\r\n           <div><Field type=\"password\" name=\"password\" />\r\n           <ErrorMessage name=\"password\" component=\"div\" /></div>\r\n           <div><Field type=\"checkbox\" name=\"rememberMe\" />Remember me</div>\r\n           <div><button type=\"submit\" disabled={isSubmitting}>\r\n             Submit\r\n           </button></div>\r\n           \r\n         </Form>\r\n       )}\r\n     </Formik>\r\n     </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default connect(null, {login})(LoginForm)","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n\r\n    return (\r\n        <div>\r\nFirst klass\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className='nav'>\r\n      <div className={s.item}><NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink></div>\r\n      <div className={s.item}><NavLink to='/message' activeClassName={s.activeLink}>Messages</NavLink></div>\r\n      <div className={s.item}><NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink></div>\r\n      <div className={s.item}><NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink></div>\r\n      <div className={s.item}><NavLink to='setting' activeClassName={s.activeLink}>Setting</NavLink></div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\n\r\nclass ProfileStatus extends React.Component  {\r\n\r\nstate = {\r\n    editMode : false,\r\n    status: this.props.status\r\n}\r\n\r\n    \r\n\r\n\r\nactivateMode = () => { \r\n    debugger\r\n    this.setState({\r\n        editMode: true\r\n    })\r\n}\r\ndeactivateMode = () => {\r\n    this.setState({\r\n        editMode: false\r\n    })\r\nthis.props.updateStatus(this.state.status)\r\n}\r\n\r\nonStatusChange = (e) => {\r\n    this.setState( {\r\nstatus: e.currentTarget.value\r\n    })\r\n}    \r\n\r\ncomponentDidUpdate =(prevProps, prevState) => {\r\n    \r\nif (prevProps.status != this.state.status) {\r\n    this.setState({\r\n        status: this.props.status\r\n    })\r\n}\r\n}\r\n\r\n    render() {\r\n  return (\r\n    <div >\r\n        {!this.state.editMode && \r\n       <div onDoubleClick={this.activateMode}>{this.props.status || 'Enter new status'}</div>\r\n        }     \r\n    \r\n    {this.state.editMode && \r\n       <div><input autoFocus={true} onChange={this.onStatusChange.bind(this)}\r\n        onBlur={this.deactivateMode} value={this.props.status}/> </div>\r\n        }\r\n       \r\n       \r\n\r\n    </div>)\r\n}\r\n}\r\n\r\nexport default ProfileStatus;","import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n let [editMode, setEditMode] = useState(false);\r\n let [status, setStatus] = useState(props.status);\r\n \r\nuseEffect(()=> {\r\nsetStatus(props.status )\r\n}, [props.status]) //закиньте в меня функцию, которую я выполню , когда произойдет уже отриcовка\r\n// Use effect запускать не всегда, а только в момент когда самый первый раз компонента вмонтировалась\r\n\r\nconst activateEditMode = () => {setEditMode(true);}\r\n\r\nconst deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status)\r\n}\r\n\r\nconst onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n}\r\n\r\n    return (\r\n        <div >\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'Enter new status'}</span>\r\n                    </div>\r\n            }\r\n\r\n            {editMode &&\r\n                <div><input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange} value={status}/> </div>\r\n            }\r\n\r\n        </div>)\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './Ava.module.css';\r\nimport Preloader from '../../Common/Preloader';\r\nimport ProfileStatus from '../ProfileStatus'\r\nimport ProfileStatusWithHooks from '../ProfileStatusWithHooks';\r\n\r\nconst AvatarInfo = (props) => {\r\nif (!props.profile) {\r\n  return  <Preloader/>\r\n}\r\n\r\n\r\n  return (\r\n    <div className={s.description}>\r\n      \r\n      <div className={s.avatar}>\r\n       <img src={props.profile.photos.large}></img>\r\n        </div>\r\n        <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/> \r\n      <div className={s.item}>\r\n       <div>Name : {props.profile.fullName}</div> \r\n       <div>Status:  {props.profile.aboutMe}</div>\r\n       <div>Contact's:\r\n         <div>Facebook: {props.profile.contacts.facebook}</div>\r\n         <div>website: {props.profile.contacts.website}</div>\r\n         <div>vk: {props.profile.contacts.vk}</div>\r\n       </div>\r\n        </div>\r\n\r\n    </div>)\r\n}\r\n\r\nexport default AvatarInfo;","import {profileAPI} from '../api/api'\r\nlet ADD_POST = 'ADD-POST';\r\nlet CREATE_NEW_POST_TEXT = 'CREATE-NEW-POST-TEXT';\r\nlet SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nlet SET_STATUS = 'SET_STATUS';\r\nlet GET_STATUS = 'GET_STATUS';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hello, it my first post', likesCount: 12 },\r\n    { id: 2, message: 'yo', likesCount: 5 },\r\n  ],\r\n  newPostText: 'react',\r\n  profile: null,\r\n  status:'Helloo'\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  \r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: state.newPostText,\r\n        likesCount: 0\r\n      };\r\n      let stateCopy = {...state};\r\n      stateCopy.posts = [...state.posts];\r\n      stateCopy.posts.push(newPost);\r\n      stateCopy.newPostText = '';\r\n      return stateCopy;\r\n    }\r\n\r\n    case CREATE_NEW_POST_TEXT: {\r\n      let stateCopy = {...state};\r\n      stateCopy.newPostText = action.newText;\r\n      return stateCopy;\r\n    }\r\n\r\n    case SET_USERS_PROFILE: {\r\nreturn {...state, profile: action.profile}\r\n    }\r\n    case SET_STATUS: {\r\n      return {...state, status: action.status}\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\nexport const addPostActionCreator = () => {\r\n  return {\r\n    type: 'ADD-POST'\r\n  }\r\n}\r\n\r\nexport const updateNewPostTextActionCreator = (text) => {\r\n  return {\r\n    type: 'CREATE-NEW-POST-TEXT',\r\n    newText: text\r\n  }\r\n}\r\n\r\n export const setUsersProfile = (profile) => {\r\n  return {\r\n    type: SET_USERS_PROFILE,\r\n    profile\r\n  }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n  return {\r\n    type: SET_STATUS,\r\n    status\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId) => (dispatch) =>{\r\n  profileAPI.getStatus(userId).then(response => {\r\n    dispatch(setStatus(response.data))\r\n  })\r\n}\r\n\r\nexport const updateStatus = (status) => (dispatch) =>{\r\n  profileAPI.updateStatus(status).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n    }\r\n  })\r\n}\r\n\r\n\r\nexport const getUsersProfile = (userId) => (dispatch) => {\r\n  profileAPI.getProfile(userId).then(data => {\r\n    \r\n    dispatch(setUsersProfile(data));\r\n  })\r\n}\r\n\r\n\r\n//old\r\n  // if (action.type === 'ADD-POST') {\r\n    //     let newPost = {\r\n    //         id: 5,\r\n    //         message: state.newPostText,\r\n    //         likesCount: 0\r\n    //     };\r\n    //     state.posts.push(newPost);\r\n    //     state.newPostText = '';\r\n    // } else if (action.type === CREATE_NEW_POST_TEXT) {\r\n    //     state.newPostText = action.newText;\r\n\r\n    // }\r\n    // return state;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <div>{props.message}</div>\r\n      <div>{props.likesCount} Likes</div>\r\n    </div>)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPost.module.css';\r\nimport Post from './Post/Post'\r\n\r\n\r\n\r\nconst MyPost = (props) => {\r\n\r\nlet postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} />);\r\n\r\n\r\nlet newPostElement = React.createRef();\r\n\r\nlet postAdd = () => {\r\n  props.addPost();\r\n}\r\n\r\nlet onPostChange = () => {\r\n  let text = newPostElement.current.value;\r\n  props.updateNewPostText(text);\r\n}\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <div className={s.h}>My posts</div>\r\n      <div> <textarea onChange={onPostChange} className={s.item} ref={newPostElement} value={props.newPostText}/></div>\r\n      <div> <button onClick={postAdd}>Create post</button></div>\r\n      <div>{postsElements}</div>\r\n    </div>)\r\n}\r\n\r\nexport default MyPost;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from '../../../redux/profile_reducer';\r\nimport MyPost from './MyPost';\r\n\r\n\r\n// const MyPostContainer = (props) => {\r\n// let state = props.store.getState();\r\n  \r\n\r\n// let postAdd = () => {\r\n//   props.store.dispatch(addPostActionCreator());\r\n//   const action = updateNewPostTextActionCreator('');\r\n//   props.store.dispatch(action);\r\n// }\r\n\r\n// let onPostChange = (text) => {\r\n//   const action = updateNewPostTextActionCreator(text);\r\n//   props.store.dispatch(action);\r\n// }\r\n\r\n//   return (\r\n//     <MyPost updateNewPostText={onPostChange}\r\n//      addPost={postAdd} \r\n//      posts={state.profilePage.posts}\r\n//      newPostText={state.profilePage.newPostText}/>\r\n//   )\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\nposts: state.profilePage.posts,\r\nnewPostText: state.profilePage.newPostText\r\n}\r\n}\r\n\r\nlet mapDispatchToProps =(dispatch) => {\r\n  return {\r\n    updateNewPostText: (text) => {dispatch(updateNewPostTextActionCreator(text))},\r\n    addPost: () => {\r\n      dispatch(addPostActionCreator());\r\n      dispatch(updateNewPostTextActionCreator(''));\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPost);\r\n\r\nexport default MyPostContainer;","import React from 'react';\r\n\r\nimport AvatarInfo from './Avatarinfo/AvatarInfo';\r\nimport MyPostContainer from './MyPost/MyPostContainer';\r\n\r\nimport s from './Profile.module.css'\r\n\r\n\r\nconst Profile = (props) => {\r\n \r\n  return (\r\n    <div>\r\n      <AvatarInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n      <MyPostContainer/>\r\n    </div>)\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getUsersProfile, getStatus, updateStatus} from '../../redux/profile_reducer'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ProfileContainer extends React.Component {\r\ncomponentDidMount() {\r\n  let userId = this.props.match.params.UserId;\r\n  if (!userId) {\r\n    userId = 18048;\r\n  }\r\n   this.props.getUsersProfile(userId)\r\n   this.props.getStatus(userId)\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n        updateStatus={this.props.updateStatus}/>\r\n      </div>)\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\nprofile: state.profilePage.profile,\r\nstatus: state.profilePage.status\r\n})\r\n\r\nlet ContainerRouteProfile = withRouter(ProfileContainer);\r\n\r\nexport default connect(mapStateToProps, {getUsersProfile, getStatus, updateStatus})(ContainerRouteProfile);","import React from 'react';\r\nimport s from './Setting.module.css';\r\n\r\nconst Setting = (props) => {\r\n    return (\r\n        <div>\r\nset\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting;","import { usersAPI } from '../api/api';\r\nlet FOLLOW = 'FOLLOW';\r\nlet UNFOLLOW = 'UNFOLLOW';\r\nlet SET_USERS = 'SET_USERS';\r\nlet SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nlet SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nlet IS_FETCHING = 'IS_FETCHING';\r\nlet TOGGLE_FOLLOW_PROGRESS = 'TOGGLE_FOLLOW_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: \r\n    [],\r\n    pageSize: 10,\r\n    currentPage: 1,\r\n    totalCount: 0,    //how user get at server\r\n    isFetching: false,\r\n    followingInProgress: [2]\r\n}\r\n \r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        // users: [...state.users],\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n      case SET_CURRENT_PAGE:\r\n        return {\r\n          ...state, currentPage: action.currentPage\r\n        }\r\n        case SET_TOTAL_COUNT:\r\n          return {\r\n            ...state, totalCount: action.totalCount\r\n          }\r\n          case IS_FETCHING:\r\n            return {...state, isFetching:action.isFetching};\r\n          case TOGGLE_FOLLOW_PROGRESS: \r\n          return {...state, \r\n            followingInProgress: action.isFetching ? \r\n            [...state.followingInProgress, action.userID]\r\n            : [state.followingInProgress.filter(id => id != action.userID)]}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nexport const followSucces = (userID) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userID: userID\r\n  }\r\n}\r\nexport const unfollowSucces = (userID) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userID: userID\r\n  }\r\n}\r\nexport const setUsers = (user) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users: user\r\n  }\r\n  \r\n}\r\nexport const setCurrentPage = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage\r\n  }\r\n}\r\nexport const setTotalCount = (totalCount) => {\r\n  return {\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n  return {\r\n    type: IS_FETCHING,\r\n    isFetching\r\n  }\r\n}\r\nexport const toggleFollowingInProgress = (followingInProgress, userID) => {\r\n  return {\r\n    type: TOGGLE_FOLLOW_PROGRESS,\r\n    followingInProgress,\r\n    userID\r\n  }\r\n}\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n  \r\n  dispatch(setIsFetching(true));\r\n\r\n            usersAPI.getUsers(currentPage, pageSize).\r\n                then(data => {\r\n\r\n                    dispatch(setIsFetching(false));\r\n\r\n                    dispatch(setUsers(data.items));\r\n                    dispatch(setTotalCount(data.totalCount))\r\n                })\r\n}\r\n}\r\n\r\nexport const follow = (id) => {\r\n  return (dispatch) => {\r\n  \r\n    dispatch(toggleFollowingInProgress(true, id));\r\n    usersAPI.follow(id).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(followSucces(id));\r\n        }\r\n    })\r\n    dispatch(toggleFollowingInProgress(false, id));\r\n}\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n  return (dispatch) => {\r\n  \r\n    dispatch(toggleFollowingInProgress(true, id));\r\n    usersAPI.unfollow(id).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(unfollowSucces(id));\r\n        }\r\n    })\r\n    dispatch(toggleFollowingInProgress(false, id));\r\n}\r\n}","export default __webpack_public_path__ + \"static/media/user_avatar.329f5d2d.png\";","import React, { useState } from 'react';\r\nimport s from './Paginator.module.css';\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; ++i) { pages.push(i); }\r\n\r\n    let [PortionNumber, setPortionNumber] = useState(1)\r\n    let PortionSize = 10;\r\n    let PortionCount = Math.ceil(pageCount / PortionSize);\r\n\r\n    let leftBorderPortion = (PortionNumber - 1) * PortionSize + 1;\r\n    let RightBorderportion = PortionNumber * PortionSize;\r\n\r\n    return <div className={s.Paginator}>\r\n        {PortionNumber > 1 && <button onClick={() => { setPortionNumber(PortionNumber - 1) }}>PREV</button>}\r\n        <div>\r\n            {pages.filter(p =>   p<=RightBorderportion && p>leftBorderPortion)\r\n                .map((p) => {\r\n                    return <span className={props.currentPage === p && s.activePage}\r\n                        onClick={(event) => { props.onPageChanged(p); }}>{p} </span>\r\n                })}\r\n\r\n        </div>\r\n\r\n        {PortionCount > PortionNumber && <button onClick={() => { setPortionNumber(PortionNumber + 1) }}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport user_avatar from '../../assets/user_avatar.png';\r\nimport s from './Users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from './Paginator';\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n\r\n    return <div>\r\n<Paginator totalCount={props.totalCount} pageSize={props.pageSize} \r\nonPageChanged={props.onPageChanged} currentPage={props.currentPage}/>\r\n     \r\n\r\n        {\r\n            props.users.map(u =>\r\n                <div key={u.id}>\r\n                    <span>\r\n                        {<div>\r\n                            <NavLink to={'/profile/' + u.id}>\r\n                                <img src={u.photos.small != null ? u.photos.small : user_avatar} className={s.avatar} />\r\n                            </NavLink   >\r\n                        </div>}\r\n                        <div>\r\n                            {u.followed ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => {\r\n                                    props.unfollow(u.id)\r\n\r\n                                }}>unfollow</button>\r\n\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                    onClick={() => {\r\n\r\n                                        props.follow(u.id)\r\n                                    }}>follow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    {/* <span>\r\n                            <div>{u.location.country}</div>\r\n                            <div>{u.location.city}</div>\r\n                        </span>  */}\r\n\r\n                </div>\r\n            )\r\n\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers =(state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers , (users)=> {\r\n    return users.filter(u => true)\r\n});\r\n\r\n\r\nexport const getPageSize =(state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getCurrentPage =(state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getTotalCount =(state) => {\r\n    return state.usersPage.totalCount\r\n}\r\n\r\nexport const getStatusIsFetching =(state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getStatusFollInProgress =(state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, getUsersThunkCreator, toggleFollowingInProgress,\r\n     setCurrentPage, setTotalCount, unfollow } from '../../redux/users_reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader';\r\nimport { getCurrentPage, getPageSize, getStatusFollInProgress, getStatusIsFetching, getTotalCount, getUsersSuper } from '../../redux/Users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        \r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n        /*/ this.props.setIsFetching(true);\r\n        //     usersAPI.getUsers(this.props.currentPage, this.props.pageSize).\r\n        //         then(data => {\r\n        //             this.props.setIsFetching(false);\r\n        //             this.props.setUsers(data.items);\r\n        //             this.props.setTotalCount(data.totalCount)\r\n        //         })*/\r\n            }\r\n    \r\n    \r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n        this.props.setCurrentPage(pageNumber);\r\n        // this.props.setIsFetching(true);\r\n        \r\n        // usersAPI.getUsers(pageNumber, this.props.pageSize).\r\n        //         then(data => {\r\n        //             this.props.setIsFetching(false);\r\n        //             this.props.setUsers(data.items);\r\n        //         })\r\n    \r\n    }\r\n    \r\n        render() {\r\n    \r\n            return <>\r\n            {this.props.isFetching ? <Preloader/>: null}\r\n            <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize} \r\n            currentPage={this.props.currentPage} unfollow={this.props.unfollow} follow={this.props.follow} \r\n            onPageChanged={this.onPageChanged} users={this.props.users} \r\n            followingInProgress={this.props.followingInProgress}\r\n             />\r\n            </>\r\n        }\r\n    }\r\n\r\n\r\n// let mapStatetoProps = (state) => {\r\n    \r\n// return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     totalCount: state.usersPage.totalCount,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress\r\n// }\r\n// }\r\n\r\nlet mapStatetoProps = (state) => {\r\n    \r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalCount: getTotalCount(state),\r\n        isFetching: getStatusIsFetching(state),\r\n        followingInProgress: getStatusFollInProgress(state)\r\n    }\r\n    }\r\n\r\n\r\nconst UsersContainer =  connect(mapStatetoProps, {follow, unfollow, setCurrentPage, \r\n    setTotalCount, getUsers: getUsersThunkCreator, toggleFollowingInProgress\r\n})(UsersAPIComponent);\r\nexport default UsersContainer;\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => {\r\n//             dispatch(followAC(userID))\r\n//         },\r\n//         unfollow: (userID) => {\r\n//             dispatch(unfollowAC(userID))\r\n//         },\r\n//         setUsers: (user) => {\r\n//             dispatch(setUsersAC(user))\r\n//         },\r\n//         setCurrentPage: (currentPage) => {\r\n//             dispatch(setCurrentPageAC(currentPage))\r\n//         },\r\n//         setTotalCount: (totalCount) => {\r\n//             dispatch(setTotalCountAC(totalCount))\r\n//         },\r\n//         setIsFetching: (isFetching) => {\r\n//             dispatch(setIsFetchingAC(isFetching))\r\n//         },\r\n//     }\r\n// }","import { authAPI } from '../api/api';\r\nimport { auth } from './auth-reducer';\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      debugger\r\n      return {\r\n        ...state,\r\n        initialized:true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const inicializedSucces = () => {\r\n  return {type: SET_INITIALIZED}\r\n}\r\n\r\n\r\nexport const initialApp = () => (dispatch) => {\r\nlet promise = dispatch(auth());\r\npromise.then(() => {dispatch(inicializedSucces())}) \r\n}\r\n\r\nexport default appReducer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route } from 'react-router';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Preloader from './components/Common/Preloader';\nimport DialogContainer from './components/Dialogs/DialogContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport Music from './components/Music/Music';\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport Setting from './components/Setting/Setting';\nimport UsersContainer from './components/Users/Users_container';\nimport {initialApp} from './redux/app-reducer'\n\n\n\nclass App extends React.Component {\n\ncomponentDidMount() {\n  this.props.initialApp()\n}\n\n  render() {\n    if (!this.props.initialized) {return <Preloader/>}\n  return (\n    <BrowserRouter>\n      <div className='app_wrapper'>\n        <div className='Header'><HeaderContainer /></div>\n        <div className='nav'><Navbar /></div>\n        <div className='app_wrapper_content'>\n          <Route path='/profile/:UserId?' render={() => <ProfileContainer />} />\n          <Route path='/message' render={() => <DialogContainer />} />\n          <Route path='/users' render={ ()=> <UsersContainer/>} />\n          <Route path='/music' component={Music} />\n          <Route path='/setting' component={Setting} />\n          <Route path='/login' render={ ()=> <Login/>} />\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n\n}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, {initialApp})(App);\n","import dialogsReducer from \"./dialog_reducer\";\r\nimport profileReducer from \"./profile_reducer\";\r\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport usersReducer from \"./users_reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nexport default store;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}