{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Dialog.module.css","components/Header/Header.module.css","components/Profile/Avatarinfo/Ava.module.css","components/Profile/MyPost/MyPost.module.css","components/Users/Paginator.module.css","components/Common/Preloader.module.css","components/Users/Users.module.css","components/Profile/MyPost/Post/Post.module.css","reportWebVitals.js","assets/loader.svg","components/Common/Preloader.jsx","HOC/withAuthRedirect.js","redux/dialog_reducer.js","components/Dialogs/DialogItem.jsx","components/Dialogs/Message.jsx","components/Dialogs/DialogContainer.jsx","components/Dialogs/Dialog.jsx","assets/headIcon.png","components/Header/Header.jsx","api/api.js","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Navbar/Navbar.jsx","components/Profile/ProfileDataForm.jsx","components/Profile/ProfileStatusWithHooks.jsx","assets/user_avatar.png","components/Profile/Avatarinfo/AvatarInfo.jsx","redux/profile_reducer.js","components/Profile/MyPost/Post/Post.jsx","components/Profile/MyPost/MyPost.jsx","components/Profile/MyPost/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Setting/Setting.jsx","redux/users_reducer.js","components/Users/Paginator.jsx","components/Users/Users.jsx","redux/Users-selectors.js","components/Users/Users_container.jsx","redux/app-reducer.js","App.js","redux/redux-store.js","index.js"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Preloader","className","sett","im","src","loader","mapStateToPropsForRedirect","state","isAuth","auth","CREATE_NEW_MESSAGE_TEXT","MESSAGE_ADD","initialState","dialogsData","id","name","messagesData","createNewMessagetext","dialogsReducer","action","type","stateCopy","newText","message","push","DialogItem","props","path","s","dialog","to","Message","authRedirect","Component","RedirectComponent","this","React","connect","withAuthRedirect","dialogsElements","map","messagesElements","m","dialogs","dialogsItems","messages","onChange","event","text","target","value","MessageText","placeholder","onClick","addMessage","DialogContainer","dialogPage","dispatch","Header","headIcon","loginBlock","login","logout","instance","axios","withCredentials","baseURL","headers","authAPI","get","response","data","email","password","rememberMe","post","delete","usersAPI","currentPage","pageSize","profileAPI","userId","status","put","photoFile","formData","FormData","append","SET_USER_DATA","authReducer","setAuthUserData","Id","resultCode","HeaderContainer","initialValues","onSubmit","values","setSubmitting","isSubmitting","component","disabled","Navbar","item","activeClassName","activeLink","ProfileDataForm","fullName","lookingForAJob","Contacts","aboutMe","alert","errors","touched","handleChange","handleBlur","isValid","handleSubmit","dirty","offEditMode","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","e","currentTarget","ProfileDataBlock","profile","Object","keys","contacts","key","isOwner","goToEditMode","AvatarInfo","description","avatar","photos","large","userPhoto","files","length","savePhoto","information","ADD_POST","CREATE_NEW_POST_TEXT","SET_USERS_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCES","posts","likesCount","newPostText","profileReducer","newPost","updateNewPostTextActionCreator","Post","MyPost","postsElements","p","newPostElement","createRef","content","current","updateNewPostText","ref","addPost","MyPostContainer","profilePage","Profile","ProfileContainer","match","params","UserId","getUsersProfile","getStatus","refreshProfile","prevProps","prevState","ContainerRouteProfile","withRouter","file","a","Setting","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","IS_FETCHING","TOGGLE_FOLLOW_PROGRESS","users","totalCount","isFetching","followingInProgress","usersReducer","u","userID","followed","filter","setTotalCount","setIsFetching","toggleFollowingInProgress","Paginator","pageCount","Math","ceil","pages","i","PortionNumber","setPortionNumber","PortionCount","leftBorderPortion","RightBorderportion","activePage","onPageChanged","Users","small","user_avatar","some","unfollow","follow","getUsersSuper","createSelector","usersPage","getPageSize","getCurrentPage","getTotalCount","getStatusIsFetching","getStatusFollInProgress","UsersAPIComponent","pageNumber","getUsers","setCurrentPage","UsersContainer","user","items","SET_INITIALIZED","initialized","appReducer","App","initialApp","render","Login","app","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6b53951.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Navbar_item__17chj\",\"activeLink\":\"Navbar_activeLink__1nxUt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialog_dialogs__EBIsh\",\"dialogsItems\":\"Dialog_dialogsItems__x4Lpg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headIcon\":\"Header_headIcon__2TXwj\",\"loginBlock\":\"Header_loginBlock__2UB2y\",\"login\":\"Header_login__2nrcF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Ava_avatar__31kYH\",\"item\":\"Ava_item__x0iiX\",\"description\":\"Ava_description__3C6nW\",\"information\":\"Ava_information__2-awO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"MyPost_item__qJigH\",\"content\":\"MyPost_content__3P65b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Paginator_activePage__Ym109\",\"Paginator\":\"Paginator_Paginator__3dTy4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"im\":\"Preloader_im__39qwu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__3g3hZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__IBu2k\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/loader.f6190433.svg\";","import React from 'react';\r\nimport loader from '../../assets/loader.svg';\r\nimport sett from './Preloader.module.css'\r\n\r\n\r\nconst Preloader = () => {\r\n    return <div className={sett.im}><img src={loader}/></div>\r\n    }\r\n\r\n    export default Preloader;","import { Redirect } from \"react-router-dom\";\r\nimport React from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    \r\n        isAuth: state.auth.isAuth\r\n    \r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n \r\n\r\n\r\nlet ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\nreturn ConnectedAuthRedirectComponent; \r\n}","let CREATE_NEW_MESSAGE_TEXT = 'CREATE-NEW-MESSAGE-TEXT';\r\nlet MESSAGE_ADD = 'MESSAGE-ADD';\r\n\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n      { id: 1, name: 'Andrew' },\r\n      { id: 2, name: 'Sveta' },\r\n      { id: 3, name: 'Julia' },\r\n      { id: 4, name: 'Pasha' },\r\n      { id: 5, name: 'Polina' },\r\n      { id: 6, name: 'Seva' },\r\n  ],\r\n  messagesData: [\r\n      \r\n  ],\r\n  createNewMessagetext: ''\r\n}\r\n\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\ncase CREATE_NEW_MESSAGE_TEXT: {\r\n  let stateCopy = {...state};\r\n  stateCopy.createNewMessagetext = action.newText;\r\n  return stateCopy;\r\n}\r\n  case MESSAGE_ADD: {\r\n    // let body = stateCopy.createNewMessagetext  ;\r\n    let stateCopy = {...state,createNewMessagetext:'',\r\n      messagesData:[...state.messagesData, {id: 6, message: state.createNewMessagetext}]};\r\n    stateCopy.messagesData = [...state.messagesData];\r\n    \r\n    \r\n    stateCopy.messagesData.push({id: 6, message: state.createNewMessagetext});\r\n    stateCopy.createNewMessagetext = 'saasas';\r\n    return stateCopy;\r\n  }\r\n    default: \r\n    return state;\r\n}\r\n  \r\n\r\n    // if (action.type === 'CREATE-NEW-MESSAGE-TEXT') {\r\n    //     state.createNewMessagetext = action.newText;\r\n    // } else if (action.type === 'MESSAGE-ADD') {\r\n    //     let body = state.createNewMessagetext;\r\n    //     state.createNewMessagetext = \" \";\r\n    //     state.messagesData.push({ id: 6, message: body });\r\n    // }\r\n    // return state;\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\n\r\nexport const updateNewMessagTextActionCreator = (text) => {\r\n    return {\r\n      type:'CREATE-NEW-MESSAGE-TEXT',\r\n      newText: text\r\n    }\r\n  }\r\n\r\nexport const addMessageActionCreator = () => {\r\n    return {\r\n      type:'MESSAGE-ADD'\r\n    }\r\n  }","import React from 'react'\r\nimport s from './Dialog.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst DialogItem = (props) => {\r\n\r\n    let path = '/message/' + props.id;\r\n    return (\r\n        <div className={s.dialog}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className='s.dialog'>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { addMessageActionCreator, updateNewMessagTextActionCreator } from '../../redux/dialog_reducer'\r\nimport Dialog from './Dialog';\r\n\r\n\r\n// const DialogContainer = (props) => {\r\n//     debugger    \r\n//     let state = props.state.getState();\r\n\r\n//     let addMessage = () => {\r\n//         props.dispatch(addMessageActionCreator())\r\n//     }\r\n\r\n//     let MessageText = (event) => {\r\n\r\n        \r\n//         props.dispatch(updateNewMessagTextActionCreator(event));\r\n//     }\r\n//     return (\r\n//         <Dialog MessageText={MessageText} addMessage={addMessage}\r\n//          dialogsData={state.dialogPage.dialogsData}\r\n//          messagesData={state.dialogPage.messagesData}/>\r\n//     )\r\n\r\n// };\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogPage\r\n        \r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: () => {dispatch(addMessageActionCreator())},\r\n        MessageText: (event) => {dispatch(updateNewMessagTextActionCreator(event))}\r\n    }\r\n}\r\n\r\nlet authRedirect = withAuthRedirect(Dialog)\r\n\r\n\r\n\r\nconst DialogContainer = connect(mapStateToProps, mapDispatchToProps)(authRedirect);\r\n\r\nexport default DialogContainer;","import React from 'react';\r\nimport s from './Dialog.module.css';\r\nimport DialogItem from './DialogItem';\r\nimport Message from './Message';\r\n\r\nconst Dialog = (props) => {\r\n\r\n    let dialogsElements = props.dialogsData.dialogsData.map(dialog => <DialogItem name={dialog.name} id={dialog.id} />);\r\n\r\n    // Create a dialog based on array of data\r\n    let messagesElements = props.dialogsData.messagesData.map(m => <Message message={m.message} />);\r\n\r\n    let addMessage = () => {\r\n        props.addMessage();\r\n    }\r\n\r\n    let onMessageText = (event) => {\r\n        let text = event.target.value;\r\n        props.MessageText(text);\r\n\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n                <div> <textarea onChange={onMessageText}\r\n                    value={props.createNewMessagetext}\r\n                    placeholder='Enter you message'></textarea></div>\r\n                <div> <button onClick={addMessage}>Send</button></div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Dialog;","export default __webpack_public_path__ + \"static/media/headIcon.fb90b7e3.png\";","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport headIcon from '../../assets/headIcon.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n    <header className={s.Header}>\r\n    <img className={s.headIcon} src={headIcon}></img>\r\n    \r\n    <div className={s.loginBlock}>\r\n{props.isAuth ? <div>{props.login} - <button onClick={props.logout}> logout </button> </div>  \r\n: <NavLink to={'/login'} className={s.login}> login </NavLink>}\r\n    </div>\r\n  </header>)\r\n}\r\n\r\nexport default Header;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": 'df505b79-2df6-439f-87d2-7a2e3eb90c41' }\r\n})\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {return response.data})\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`,{\r\n            email,\r\n            password,\r\n            rememberMe\r\n        })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage, pageSize) {\r\nreturn instance.get(`users?page=${currentPage}&count${pageSize}`).\r\nthen(response => {\r\n    return response.data;\r\n})\r\n    },\r\n    follow(id) {return instance.post(`follow/${id}`).then( response => {return response.data})},\r\n    unfollow(id) {return instance.delete(`follow/${id}`).then( response => {return response.data})}\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId) {\r\n        \r\n        return instance.get(`profile/${userId}`).\r\n        then(response => { return response.data})\r\n}, \r\ngetStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`)\r\n},\r\nupdateStatus(status) {\r\nreturn instance.put(`profile/status`, {status: status})\r\n},\r\nsavePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance.put(`profile/photo`, formData, {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n    })}\r\n \r\n}\r\n    \r\n\r\n\r\n","import { authAPI } from '../api/api';\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  id: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  password: null,\r\n  rememberMe: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n\r\nexport const setAuthUserData = (Id, email, login, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    data: { Id, email, login, isAuth }\r\n  }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => (dispatch) => {\r\n  authAPI.login(email, password, rememberMe).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(auth())\r\n    }\r\n\r\n  })\r\n}\r\n\r\nexport const logout = () => (dispatch) => {\r\n  authAPI.logout().then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setAuthUserData(null,null,null,false))\r\n    }\r\n\r\n  })\r\n}\r\n\r\nexport const auth = () => (dispatch) => {\r\n\r\n  return authAPI.getAuth().then(data => {\r\n    let { id, email, login } = data.data;\r\n    if (data.resultCode === 0) {dispatch(setAuthUserData(id, email, login, true));}\r\n    \r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n  componentDidMount() {}\r\n\r\n  render() {return (<Header {...this.props} />)}\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  \r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import { Field, Form, Formik, ErrorMessage } from 'formik';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\n\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <h2>login</h2>\r\n        <Formik\r\n       initialValues={{ email: '', password: '', rememberMe: false}}\r\n    //    validate={values => {\r\n    //      const errors = {};\r\n    //      if (!values.email) {\r\n    //        errors.email = 'Required';\r\n    //      } else if (\r\n    //        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n    //      ) {\r\n    //        errors.email = 'Invalid email address';\r\n    //      }\r\n    //      return errors;\r\n    //    }}\r\n       onSubmit={(values, { setSubmitting }) => {\r\n         \r\n         //let logObj = JSON.stringify(values, null, 2)\r\n         //alert(values.email)\r\n           props.login(values.email, values.password, values.rememberMe);\r\n           \r\n         setSubmitting(false)\r\n         \r\n       }}\r\n     >\r\n       {({ isSubmitting }) => (\r\n         <Form>\r\n             <div><Field type=\"text\" name=\"email\" placeholder='Enter you login'/>\r\n           <ErrorMessage name=\"email\" component=\"div\" /></div>\r\n           <div><Field type=\"password\" name=\"password\" />\r\n           <ErrorMessage name=\"password\" component=\"div\" /></div>\r\n           <div><Field type=\"checkbox\" name=\"rememberMe\" />Remember me</div>\r\n           <div><button type=\"submit\" disabled={isSubmitting}>\r\n             Submit\r\n           </button></div>\r\n           \r\n         </Form>\r\n       )}\r\n     </Formik>\r\n     </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default connect(null, {login})(LoginForm)","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css'\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className='nav'>\r\n      <div className={s.item}><NavLink to='/profile' activeClassName={s.activeLink}>My profile</NavLink></div>\r\n      <div className={s.item}><NavLink to='/message' activeClassName={s.activeLink}>Messages</NavLink></div>\r\n      <div className={s.item}><NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink></div>\r\n      <div className={s.item}><NavLink to='setting' activeClassName={s.activeLink}>Setting</NavLink></div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport { Field, Form, Formik, ErrorMessage } from 'formik';\r\n\r\n\r\n\r\nconst ProfileDataForm = (props) => {\r\n \r\n\r\n    return <div>\r\n<Formik\r\n\r\n\r\ninitialValues={{ \r\n    fullName: '', \r\n    lookingForAJob: false,\r\n     Contacts: {'github': '',\r\n    'vk': '',\r\n    'facebook': '',\r\n    'instagram': '',\r\n    'twitter': '',\r\n    'website': '',\r\n    'youtube': '',\r\n    'mainLink': ''},\r\n     aboutMe: ''}}\r\nonSubmit={(values, { setSubmitting }) => {\r\n         \r\n    //let logObj = JSON.stringify(values, null, 2)\r\n    //alert(values.email)\r\n      alert(values.fullName);\r\n      \r\n    setSubmitting(false)\r\n    \r\n  }}\r\n  \r\n>\r\n\r\n{({values, errors, touched, handleChange, handleBlur, isValid, handleSubmit, dirty, offEditMode}) => (\r\n   <Form>\r\n   <div><Field type=\"text\" name=\"fullName\" placeholder='Enter you fullname'/>\r\n <ErrorMessage name=\"email\" component=\"div\" /></div>\r\n <div><Field type=\"checkbox\" name=\"lookingForAJob\"/>lookingForAJob</div>\r\n <div><Field type=\"text\" name=\"Contacts\" /></div>\r\n <div><Field type=\"text\" name=\"aboutMe\" placeholder='About you'/></div>\r\n <div><button type=\"submit\" disabled={handleSubmit} onClick={() => {\r\n    props.offEditMode();\r\n  }}>\r\n   Save\r\n </button></div>\r\n \r\n</Form>\r\n \r\n )}  \r\n    \r\n \r\n</Formik>\r\n      </div>\r\n  }\r\n//touched - показывает, взаимодействовали ли мы с полем ранее\r\n//handleChange - вызывается каждый раз, когда мы меняем значение формы\r\n//handleBlur - вызывается каждый раз, когда мы уходим с какого-то поля\r\n// isValid - валидна форма в данный момент или нет \r\n// handleSubmit - привязан к кнопке отправки формы и он будет вызывать функцию onSubmit\r\n//dirty - он говорит нам, изменялись ли когда-либо значения в форме\r\n\r\n  export default ProfileDataForm","import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n let [editMode, setEditMode] = useState(false);\r\n let [status, setStatus] = useState(props.status);\r\n \r\nuseEffect(()=> {\r\nsetStatus(props.status )\r\n}, [props.status]) //закиньте в меня функцию, которую я выполню , когда произойдет уже отриcовка\r\n// Use effect запускать не всегда, а только в момент когда самый первый раз компонента вмонтировалась\r\n\r\nconst activateEditMode = () => {setEditMode(true);}\r\n\r\nconst deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status)\r\n}\r\n\r\nconst onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n}\r\n\r\n    return (\r\n        <div >\r\n            {!editMode &&\r\n                <div>\r\n                    \r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'Enter new status'}</span>\r\n                    </div>\r\n            }\r\n\r\n            {editMode &&\r\n                <div><input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange} value={status}/> </div>\r\n            }\r\n\r\n        </div>\r\n        \r\n        )\r\n        \r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","export default __webpack_public_path__ + \"static/media/user_avatar.329f5d2d.png\";","import React, { useState } from 'react';\r\nimport s from './Ava.module.css';\r\nimport Preloader from '../../Common/Preloader';\r\nimport ProfileDataForm from '../ProfileDataForm';\r\nimport ProfileStatusWithHooks from '../ProfileStatusWithHooks';\r\nimport userPhoto from '../../../assets/user_avatar.png';\r\nconst AvatarInfo = (props) => {\r\n \r\n \r\n let [editMode, setEditMode] = useState(false);\r\n \r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  const onMainPhotoSelected = e => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0])\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={s.description}>\r\n\r\n      <div className={s.avatar}>\r\n        <img src={props.profile.photos.large || userPhoto}></img>\r\n        {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected} placeholder={\"Enter you photo\"} />}\r\n      </div>\r\n      <div className={s.information}>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n      \r\n      \r\n      {editMode? <ProfileDataForm offEditMode={()=>{setEditMode(false)}}/> :\r\n      \r\n      <ProfileDataBlock profile={props.profile} isOwner={props.isOwner} \r\n      goToEditMode={()=> {setEditMode(true)}}/>}\r\n</div>\r\n    </div>)}\r\n\r\n\r\nconst ProfileDataBlock = (props) => {\r\n  return <div className={s.item}>\r\n    \r\n        <div>{props.profile.fullName}</div>\r\n        <div>job: {props.profile.lookingForAJob ? \"да\" : \"нет\"}</div>\r\n        <div>Contact's: {Object.keys(props.profile.contacts).map(key=> {\r\n          <Contact key={key} contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n        })}\r\n        {props.isOwner &&  <div><button onClick={props.goToEditMode}>Изменить информацию</button></div>}\r\n        </div>\r\n      </div>\r\n}\r\n\r\n\r\n\r\nconst Contact = ({contactTitle},{contactValue}) => {\r\n  return (<div>\r\n    <b>{contactTitle} : </b> {contactValue}\r\n  </div>)\r\n}\r\n\r\nexport default AvatarInfo;","import {profileAPI} from '../api/api'\r\nlet ADD_POST = 'ADD-POST';\r\nlet CREATE_NEW_POST_TEXT = 'CREATE-NEW-POST-TEXT';\r\nlet SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nlet SET_STATUS = 'SET_STATUS';\r\nlet SAVE_PHOTO_SUCCES='SAVE_PHOTO_SUCCES';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Hello, it's test post/\", likesCount: 100 },\r\n    { id: 2, message: 'yo', likesCount: 5 },\r\n  ],\r\n  newPostText: 'Enter post',\r\n  profile: null,\r\n  status:'Helloo'\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  \r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        message: state.newPostText,\r\n        likesCount: 0\r\n      };\r\n      let stateCopy = {...state};\r\n      stateCopy.posts = [...state.posts];\r\n      stateCopy.posts.push(newPost);\r\n      stateCopy.newPostText = '';\r\n      return stateCopy;\r\n    }\r\n\r\n    case CREATE_NEW_POST_TEXT: {\r\n      let stateCopy = {...state};\r\n      stateCopy.newPostText = action.newText;\r\n      return stateCopy;\r\n    }\r\n\r\n    case SET_USERS_PROFILE: {\r\nreturn {...state, profile: action.profile}\r\n    }\r\n    case SET_STATUS: {\r\n      return {...state, status: action.status}\r\n    }\r\n    case SAVE_PHOTO_SUCCES: {\r\n      return {...state, profile: {...state.profile, photos: action.photos}}\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\nexport const addPostActionCreator = () => {\r\n  return {\r\n    type: 'ADD-POST'\r\n  }\r\n}\r\n\r\nexport const updateNewPostTextActionCreator = (text) => {\r\n  return {\r\n    type: 'CREATE-NEW-POST-TEXT',\r\n    newText: text\r\n  }\r\n}\r\n\r\n export const setUsersProfile = (profile) => {\r\n  return {\r\n    type: SET_USERS_PROFILE,\r\n    profile\r\n  }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n  return {\r\n    type: SET_STATUS,\r\n    status\r\n  }\r\n}\r\n\r\nexport const savePhotoSucces = (photos) => {\r\n  return {\r\n    type: SAVE_PHOTO_SUCCES,\r\n    photos\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId) => (dispatch) =>{\r\n  profileAPI.getStatus(userId).then(response => {\r\n    dispatch(setStatus(response.data))\r\n  })\r\n}\r\n\r\nexport const updateStatus = (status) => (dispatch) =>{\r\n  profileAPI.updateStatus(status).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n    }\r\n  })\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) =>{\r\n   let response = await profileAPI.savePhoto(file);\r\n   if (response.data.resultCode === 0) {\r\n    dispatch(savePhotoSucces(response.data.data.photos))\r\n    }\r\n}\r\n\r\n\r\nexport const getUsersProfile = (userId) => (dispatch) => {\r\n  profileAPI.getProfile(userId).then(data => {\r\n    \r\n    dispatch(setUsersProfile(data));\r\n  })\r\n}\r\n\r\n\r\n//old\r\n  // if (action.type === 'ADD-POST') {\r\n    //     let newPost = {\r\n    //         id: 5,\r\n    //         message: state.newPostText,\r\n    //         likesCount: 0\r\n    //     };\r\n    //     state.posts.push(newPost);\r\n    //     state.newPostText = '';\r\n    // } else if (action.type === CREATE_NEW_POST_TEXT) {\r\n    //     state.newPostText = action.newText;\r\n\r\n    // }\r\n    // return state;","import React from 'react';\r\nimport s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <div>{props.message}</div>\r\n      <div>{props.likesCount} Likes</div>\r\n    </div>)\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPost.module.css';\r\nimport Post from './Post/Post'\r\n\r\n\r\n\r\nconst MyPost = (props) => {\r\n\r\nlet postsElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} />);\r\n\r\n\r\nlet newPostElement = React.createRef();\r\n\r\nlet postAdd = () => {\r\n  props.addPost();\r\n}\r\n\r\nlet onPostChange = () => {\r\n  let text = newPostElement.current.value;\r\n  props.updateNewPostText(text);\r\n}\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      \r\n      <div> <input onChange={onPostChange} className={s.item} ref={newPostElement} value={props.newPostText}/></div>\r\n      <div> <button onClick={postAdd}>Create post</button></div>\r\n      <div>{postsElements}</div>\r\n    </div>)\r\n}\r\n\r\nexport default MyPost;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addPostActionCreator, updateNewPostTextActionCreator } from '../../../redux/profile_reducer';\r\nimport MyPost from './MyPost';\r\n\r\n\r\n// const MyPostContainer = (props) => {\r\n// let state = props.store.getState();\r\n  \r\n\r\n// let postAdd = () => {\r\n//   props.store.dispatch(addPostActionCreator());\r\n//   const action = updateNewPostTextActionCreator('');\r\n//   props.store.dispatch(action);\r\n// }\r\n\r\n// let onPostChange = (text) => {\r\n//   const action = updateNewPostTextActionCreator(text);\r\n//   props.store.dispatch(action);\r\n// }\r\n\r\n//   return (\r\n//     <MyPost updateNewPostText={onPostChange}\r\n//      addPost={postAdd} \r\n//      posts={state.profilePage.posts}\r\n//      newPostText={state.profilePage.newPostText}/>\r\n//   )\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\nposts: state.profilePage.posts,\r\nnewPostText: state.profilePage.newPostText\r\n}\r\n}\r\n\r\nlet mapDispatchToProps =(dispatch) => {\r\n  return {\r\n    updateNewPostText: (text) => {dispatch(updateNewPostTextActionCreator(text))},\r\n    addPost: () => {\r\n      dispatch(addPostActionCreator());\r\n      dispatch(updateNewPostTextActionCreator(''));\r\n    }\r\n  }\r\n}\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPost);\r\n\r\nexport default MyPostContainer;","import React from 'react';\r\n\r\nimport AvatarInfo from './Avatarinfo/AvatarInfo';\r\nimport MyPostContainer from './MyPost/MyPostContainer';\r\n\r\nimport s from './Profile.module.css'\r\n\r\n\r\nconst Profile = (props) => {\r\n \r\n  return (\r\n    <div>\r\n      <AvatarInfo profile={props.profile} status={props.status} \r\n      updateStatus={props.updateStatus} isOwner={props.isOwner}\r\n      savePhoto={props.savePhoto}/>\r\n      <MyPostContainer/>\r\n    </div>)\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {getUsersProfile, getStatus, updateStatus, savePhoto} from '../../redux/profile_reducer'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\nrefreshProfile() {\r\n  let userId = this.props.match.params.UserId;\r\n  if (!userId) {\r\n    userId = 18048;\r\n  }\r\n   this.props.getUsersProfile(userId);\r\n   this.props.getStatus(userId);\r\n}\r\n\r\ncomponentDidMount() {\r\n this.refreshProfile();\r\n}\r\ncomponentDidUpdate(prevProps, prevState) {\r\n if (this.props.match.params.UserId != prevProps.match.params.UserId) {\r\n  this.refreshProfile();\r\n }\r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Profile {...this.props} profile={this.props.profile} status={this.props.status}\r\n        updateStatus={this.props.updateStatus} isOwner={!this.props.match.params.UserId}\r\n        savePhoto={this.props.savePhoto}/>\r\n      </div>)\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\nprofile: state.profilePage.profile,\r\nstatus: state.profilePage.status\r\n})\r\n\r\nlet ContainerRouteProfile = withRouter(ProfileContainer);\r\n\r\nexport default connect(mapStateToProps, {getUsersProfile, getStatus, updateStatus, savePhoto})(ContainerRouteProfile);","import React from 'react';\r\nimport s from './Setting.module.css';\r\n\r\nconst Setting = (props) => {\r\n    return (\r\n        <div>\r\nset\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Setting;","import { usersAPI } from '../api/api';\r\nlet FOLLOW = 'FOLLOW';\r\nlet UNFOLLOW = 'UNFOLLOW';\r\nlet SET_USERS = 'SET_USERS';\r\nlet SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nlet SET_TOTAL_COUNT = 'SET_TOTAL_COUNT';\r\nlet IS_FETCHING = 'IS_FETCHING';\r\nlet TOGGLE_FOLLOW_PROGRESS = 'TOGGLE_FOLLOW_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: \r\n    [],\r\n    pageSize: 10,\r\n    currentPage: 1,\r\n    totalCount: 0,    //how user get at server\r\n    isFetching: false,\r\n    followingInProgress: [2]\r\n}\r\n \r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        // users: [...state.users],\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userID) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u\r\n        })\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n      case SET_CURRENT_PAGE:\r\n        return {\r\n          ...state, currentPage: action.currentPage\r\n        }\r\n        case SET_TOTAL_COUNT:\r\n          return {\r\n            ...state, totalCount: action.totalCount\r\n          }\r\n          case IS_FETCHING:\r\n            return {...state, isFetching:action.isFetching};\r\n          case TOGGLE_FOLLOW_PROGRESS: \r\n          return {...state, \r\n            followingInProgress: action.isFetching ? \r\n            [...state.followingInProgress, action.userID]\r\n            : [state.followingInProgress.filter(id => id != action.userID)]}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default usersReducer;\r\n\r\nexport const followSucces = (userID) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userID: userID\r\n  }\r\n}\r\nexport const unfollowSucces = (userID) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userID: userID\r\n  }\r\n}\r\nexport const setUsers = (user) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users: user\r\n  }\r\n  \r\n}\r\nexport const setCurrentPage = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage\r\n  }\r\n}\r\nexport const setTotalCount = (totalCount) => {\r\n  return {\r\n    type: SET_TOTAL_COUNT,\r\n    totalCount\r\n  }\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n  return {\r\n    type: IS_FETCHING,\r\n    isFetching\r\n  }\r\n}\r\nexport const toggleFollowingInProgress = (followingInProgress, userID) => {\r\n  return {\r\n    type: TOGGLE_FOLLOW_PROGRESS,\r\n    followingInProgress,\r\n    userID\r\n  }\r\n}\r\n\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n  return (dispatch) => {\r\n  \r\n  dispatch(setIsFetching(true));\r\n\r\n            usersAPI.getUsers(currentPage, pageSize).\r\n                then(data => {\r\n\r\n                    dispatch(setIsFetching(false));\r\n\r\n                    dispatch(setUsers(data.items));\r\n                    dispatch(setTotalCount(data.totalCount))\r\n                })\r\n}\r\n}\r\n\r\nexport const follow = (id) => {\r\n  return (dispatch) => {\r\n  \r\n    dispatch(toggleFollowingInProgress(true, id));\r\n    usersAPI.follow(id).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(followSucces(id));\r\n        }\r\n    })\r\n    dispatch(toggleFollowingInProgress(false, id));\r\n}\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n  return (dispatch) => {\r\n  \r\n    dispatch(toggleFollowingInProgress(true, id));\r\n    usersAPI.unfollow(id).then(response => {\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(unfollowSucces(id));\r\n        }\r\n    })\r\n    dispatch(toggleFollowingInProgress(false, id));\r\n}\r\n}","import React, { useState } from 'react';\r\nimport s from './Paginator.module.css';\r\n\r\nlet Paginator = (props) => {\r\n\r\n    let pageCount = Math.ceil(props.totalCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) { pages.push(i); }\r\n\r\n    let [PortionNumber, setPortionNumber] = useState(1)\r\n    let PortionSize = 20;\r\n    let PortionCount = Math.ceil(pageCount / PortionSize);\r\n\r\n    let leftBorderPortion = (PortionNumber - 1) * PortionSize + 1;\r\n    let RightBorderportion = PortionNumber * PortionSize;\r\n\r\n    return <div className={s.Paginator}>\r\n        {PortionNumber > 1 && <button onClick={() => { setPortionNumber(PortionNumber - 1) }}>PREV</button>}\r\n        <div>\r\n            {pages.filter(p =>   p<=RightBorderportion && p>=leftBorderPortion)\r\n                .map((p) => {\r\n                    return <span className={props.currentPage === p && s.activePage}\r\n                        onClick={(event) => { props.onPageChanged(p); }}>{p} </span>\r\n                })}\r\n\r\n        </div>\r\n\r\n        {PortionCount > PortionNumber && <button onClick={() => { setPortionNumber(PortionNumber + 1) }}>NEXT</button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport user_avatar from '../../assets/user_avatar.png';\r\nimport s from './Users.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from './Paginator';\r\n\r\n\r\nlet Users = (props) => {\r\n\r\n\r\n    return <div>\r\n\r\nUsers   \r\n        {\r\n            props.users.map(u =>\r\n                <div key={u.id}>\r\n                    <span>\r\n                        <div>\r\n                            {u.name}\r\n                        </div>\r\n                        {<div>\r\n                            <NavLink to={'/profile/' + u.id}>\r\n                                <img src={u.photos.small != null ? u.photos.small : user_avatar} className={s.avatar} />\r\n                            </NavLink   >\r\n                        </div>}\r\n                        <div>\r\n                            {u.followed ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                onClick={() => {\r\n                                    props.unfollow(u.id)\r\n\r\n                                }}>unfollow</button>\r\n\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                    onClick={() => {\r\n\r\n                                        props.follow(u.id)\r\n                                    }}>follow</button>}\r\n\r\n                        </div>\r\n                    </span>\r\n\r\n                    {/* <span>\r\n                            <div>{u.location.country}</div>\r\n                            <div>{u.location.city}</div>\r\n                        </span>  */}\r\n\r\n\r\n                </div>\r\n\r\n            )\r\n\r\n        }\r\n\r\n        <Paginator totalCount={props.totalCount} pageSize={props.pageSize}\r\n            onPageChanged={props.onPageChanged} currentPage={props.currentPage} />\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\"\r\n\r\nexport const getUsers =(state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers , (users)=> {\r\n    return users.filter(u => true)\r\n});\r\n\r\n\r\nexport const getPageSize =(state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getCurrentPage =(state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getTotalCount =(state) => {\r\n    return state.usersPage.totalCount\r\n}\r\n\r\nexport const getStatusIsFetching =(state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getStatusFollInProgress =(state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, getUsersThunkCreator, toggleFollowingInProgress,\r\n     setCurrentPage, setTotalCount, unfollow } from '../../redux/users_reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../Common/Preloader';\r\nimport { getCurrentPage, getPageSize, getStatusFollInProgress, getStatusIsFetching, getTotalCount, getUsersSuper } from '../../redux/Users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        \r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n        /*/ this.props.setIsFetching(true);\r\n        //     usersAPI.getUsers(this.props.currentPage, this.props.pageSize).\r\n        //         then(data => {\r\n        //             this.props.setIsFetching(false);\r\n        //             this.props.setUsers(data.items);\r\n        //             this.props.setTotalCount(data.totalCount)\r\n        //         })*/\r\n            }\r\n    \r\n    \r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n        this.props.setCurrentPage(pageNumber);\r\n        // this.props.setIsFetching(true);\r\n        \r\n        // usersAPI.getUsers(pageNumber, this.props.pageSize).\r\n        //         then(data => {\r\n        //             this.props.setIsFetching(false);\r\n        //             this.props.setUsers(data.items);\r\n        //         })\r\n    \r\n    }\r\n    \r\n        render() {\r\n    \r\n            return <>\r\n            {this.props.isFetching ? <Preloader/>: null}\r\n            <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize} \r\n            currentPage={this.props.currentPage} unfollow={this.props.unfollow} follow={this.props.follow} \r\n            onPageChanged={this.onPageChanged} users={this.props.users} \r\n            followingInProgress={this.props.followingInProgress}\r\n             />\r\n            </>\r\n        }\r\n    }\r\n\r\n\r\n// let mapStatetoProps = (state) => {\r\n    \r\n// return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     totalCount: state.usersPage.totalCount,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress\r\n// }\r\n// }\r\n\r\nlet mapStatetoProps = (state) => {\r\n    \r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalCount: getTotalCount(state),\r\n        isFetching: getStatusIsFetching(state),\r\n        followingInProgress: getStatusFollInProgress(state)\r\n    }\r\n    }\r\n\r\n\r\nconst UsersContainer =  connect(mapStatetoProps, {follow, unfollow, setCurrentPage, \r\n    setTotalCount, getUsers: getUsersThunkCreator, toggleFollowingInProgress\r\n})(UsersAPIComponent);\r\nexport default UsersContainer;\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userID) => {\r\n//             dispatch(followAC(userID))\r\n//         },\r\n//         unfollow: (userID) => {\r\n//             dispatch(unfollowAC(userID))\r\n//         },\r\n//         setUsers: (user) => {\r\n//             dispatch(setUsersAC(user))\r\n//         },\r\n//         setCurrentPage: (currentPage) => {\r\n//             dispatch(setCurrentPageAC(currentPage))\r\n//         },\r\n//         setTotalCount: (totalCount) => {\r\n//             dispatch(setTotalCountAC(totalCount))\r\n//         },\r\n//         setIsFetching: (isFetching) => {\r\n//             dispatch(setIsFetchingAC(isFetching))\r\n//         },\r\n//     }\r\n// }","import { authAPI } from '../api/api';\r\nimport { auth } from './auth-reducer';\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SET_INITIALIZED: {\r\n      debugger\r\n      return {\r\n        ...state,\r\n        initialized:true\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const inicializedSucces = () => {\r\n  return {type: SET_INITIALIZED}\r\n}\r\n\r\n\r\nexport const initialApp = () => (dispatch) => {\r\nlet promise = dispatch(auth());\r\npromise.then(() => {dispatch(inicializedSucces())}) \r\n}\r\n\r\nexport default appReducer;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route } from 'react-router';\nimport { BrowserRouter } from 'react-router-dom';\nimport './App.css';\nimport Preloader from './components/Common/Preloader';\nimport DialogContainer from './components/Dialogs/DialogContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\n\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport Setting from './components/Setting/Setting';\nimport UsersContainer from './components/Users/Users_container';\nimport {initialApp} from './redux/app-reducer'\n\n\n\nclass App extends React.Component {\n\ncomponentDidMount() {\n  this.props.initialApp()\n}\n\n  render() {\n    if (!this.props.initialized) {return <Preloader/>}\n  return (\n    <BrowserRouter>\n      <div className='app_wrapper'>\n        <div className='Header'><HeaderContainer /></div>\n        <div className='nav'><Navbar /></div>\n        <div className='app_wrapper_content'>\n          <Route path='/profile/:UserId?' render={() => <ProfileContainer />} />\n          <Route path='/message' render={() => <DialogContainer />} />\n          <Route path='/users' render={ ()=> <UsersContainer/>} />\n   \n          <Route path='/setting' component={Setting} />\n          <Route path='/login' render={ ()=> <Login/>} />\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n\n}\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nexport default connect(mapStateToProps, {initialApp})(App);\n","import dialogsReducer from \"./dialog_reducer\";\r\nimport profileReducer from \"./profile_reducer\";\r\nimport { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport usersReducer from \"./users_reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleWare from \"redux-thunk\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nexport default store;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\nreportWebVitals();\n"],"sourceRoot":""}